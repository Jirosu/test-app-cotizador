import{A as cn,B as pn,C as li,D as dn,E as kt,F as un,b as pt,c as ri,d as Gi,g as Wi,h as Ki,i as Yi,j as Zi,k as Ji,l as Xi,m as en,n as tn,o as nn,p as on,q as an,r as rn,s as Mt,u as ln,y as sn,z as Vt}from"./chunk-ZBLUHLAK.js";import{A as Tt,B as It,D as At,E as Ke,I as Et,J as Ot,L as Pt,M as ji,a as Mi,b as Vi,c as wt,e as Fe,h as ze,j as ki,k as Di,l as Fi,m as zi,n as Li,o as Ni,p as we,q as se,t as Hi,y as Ui,z as qi}from"./chunk-CMTBQ54Y.js";import{Ca as Se,Da as Qi,F as xe,G as he,H as st,aa as Bi,b as Oi,ca as We,da as qe,ea as oi,ga as ai,la as ct,m as Pi,na as xt,ra as Le,sa as $i,ta as Ri,va as Ne,wa as ge,xa as St}from"./chunk-TKO6MXDY.js";import{c as ni,d as ot,f as at,g as rt,h as lt}from"./chunk-4YRY4IP2.js";import{Aa as c,Ab as R,Ba as J,Bb as oe,Cb as V,Db as ae,Eb as A,Fb as Ct,Ga as xi,Ja as Qe,K as ti,La as ii,Ma as le,Mb as it,N as Ie,Na as Si,Nb as nt,O as re,Oa as je,Ob as ee,P as Ve,Ra as h,T as _i,Ta as C,U as W,Ua as l,Va as De,Wa as Ae,Xa as ie,Y as O,Ya as X,Yb as P,Z as ke,Za as Y,Zb as Ee,_b as me,ac as Ai,bb as p,cb as d,da as vi,db as y,ea as u,eb as q,f as fi,fa as m,fb as j,g as ei,ga as Ci,gb as de,h as pe,ha as K,hb as S,i as Xe,ib as Ti,jb as g,kb as s,la as x,lb as ye,ma as yi,mb as ve,mc as te,nb as L,nc as yt,o as et,oa as vt,ob as G,oc as He,pa as bi,pb as b,pc as Ge,qb as w,qc as Ue,rc as Ei,sc as bt,tb as be,tc as k,ub as v,vb as ue,wb as Ce,x as tt,xa as wi,xb as Ii,yb as B,zb as $}from"./chunk-Q3FH33RC.js";import{a as _t,b as Xt,d as Te}from"./chunk-4CLCTAJ7.js";var Nn=({dt:t})=>`
.p-progressspinner {
    position: relative;
    margin: 0 auto;
    width: 100px;
    height: 100px;
    display: inline-block;
}

.p-progressspinner::before {
    content: "";
    display: block;
    padding-top: 100%;
}

.p-progressspinner-spin {
    height: 100%;
    transform-origin: center center;
    width: 100%;
    position: absolute;
    top: 0;
    bottom: 0;
    left: 0;
    right: 0;
    margin: auto;
    animation: p-progressspinner-rotate 2s linear infinite;
}

.p-progressspinner-circle {
    stroke-dasharray: 89, 200;
    stroke-dashoffset: 0;
    stroke: ${t("progressspinner.color.1")};
    animation: p-progressspinner-dash 1.5s ease-in-out infinite, p-progressspinner-color 6s ease-in-out infinite;
    stroke-linecap: round;
}

@keyframes p-progressspinner-rotate {
    100% {
        transform: rotate(360deg);
    }
}
@keyframes p-progressspinner-dash {
    0% {
        stroke-dasharray: 1, 200;
        stroke-dashoffset: 0;
    }
    50% {
        stroke-dasharray: 89, 200;
        stroke-dashoffset: -35px;
    }
    100% {
        stroke-dasharray: 89, 200;
        stroke-dashoffset: -124px;
    }
}
@keyframes p-progressspinner-color {
    100%,
    0% {
        stroke: ${t("progressspinner.color.1")};
    }
    40% {
        stroke: ${t("progressspinner.color.2")};
    }
    66% {
        stroke: ${t("progressspinner.color.3")};
    }
    80%,
    90% {
        stroke: ${t("progressspinner.color.4")};
    }
}
`,Bn={root:"p-progressspinner",spin:"p-progressspinner-spin",circle:"p-progressspinner-circle"},mn=(()=>{class t extends Se{name="progressspinner";theme=Nn;classes=Bn;static \u0275fac=(()=>{let e;return function(n){return(e||(e=K(t)))(n||t)}})();static \u0275prov=re({token:t,factory:t.\u0275fac})}return t})();var Ft=(()=>{class t extends se{styleClass;style;strokeWidth="2";fill="none";animationDuration="2s";ariaLabel;_componentStyle=W(mn);static \u0275fac=(()=>{let e;return function(n){return(e||(e=K(t)))(n||t)}})();static \u0275cmp=O({type:t,selectors:[["p-progressSpinner"],["p-progress-spinner"],["p-progressspinner"]],inputs:{styleClass:"styleClass",style:"style",strokeWidth:"strokeWidth",fill:"fill",animationDuration:"animationDuration",ariaLabel:"ariaLabel"},standalone:!0,features:[oe([mn]),le,V],decls:3,vars:11,consts:[["role","progressbar",1,"p-progressspinner",3,"ngStyle","ngClass"],["viewBox","25 25 50 50",1,"p-progressspinner-spin"],["cx","50","cy","50","r","20","stroke-miterlimit","10",1,"p-progressspinner-circle"]],template:function(i,n){i&1&&(p(0,"div",0),Ci(),p(1,"svg",1),y(2,"circle",2),d()()),i&2&&(l("ngStyle",n.style)("ngClass",n.styleClass),C("aria-label",n.ariaLabel)("aria-busy",!0)("data-pc-name","progressspinner")("data-pc-section","root"),c(),De("animation-duration",n.animationDuration),C("data-pc-section","root"),c(),C("fill",n.fill)("stroke-width",n.strokeWidth))},dependencies:[k,te,Ge,ge],encapsulation:2,changeDetection:0})}return t})();var $n=["video"],Rn=["canvas"],Qn=["resultsPanel"],Ye=function(t){return t[t.ScannerQRCode_NONE=0]="ScannerQRCode_NONE",t[t.ScannerQRCode_PARTIAL=1]="ScannerQRCode_PARTIAL",t[t.ScannerQRCode_EAN2=2]="ScannerQRCode_EAN2",t[t.ScannerQRCode_EAN5=5]="ScannerQRCode_EAN5",t[t.ScannerQRCode_EAN8=8]="ScannerQRCode_EAN8",t[t.ScannerQRCode_UPCE=9]="ScannerQRCode_UPCE",t[t.ScannerQRCode_ISBN10=10]="ScannerQRCode_ISBN10",t[t.ScannerQRCode_UPCA=12]="ScannerQRCode_UPCA",t[t.ScannerQRCode_EAN13=13]="ScannerQRCode_EAN13",t[t.ScannerQRCode_ISBN13=14]="ScannerQRCode_ISBN13",t[t.ScannerQRCode_COMPOSITE=15]="ScannerQRCode_COMPOSITE",t[t.ScannerQRCode_I25=25]="ScannerQRCode_I25",t[t.ScannerQRCode_DATABAR=34]="ScannerQRCode_DATABAR",t[t.ScannerQRCode_DATABAR_EXP=35]="ScannerQRCode_DATABAR_EXP",t[t.ScannerQRCode_CODABAR=38]="ScannerQRCode_CODABAR",t[t.ScannerQRCode_CODE39=39]="ScannerQRCode_CODE39",t[t.ScannerQRCode_PDF417=57]="ScannerQRCode_PDF417",t[t.ScannerQRCode_QRCODE=64]="ScannerQRCode_QRCODE",t[t.ScannerQRCode_SQCODE=80]="ScannerQRCode_SQCODE",t[t.ScannerQRCode_CODE93=93]="ScannerQRCode_CODE93",t[t.ScannerQRCode_CODE128=128]="ScannerQRCode_CODE128",t[t.ScannerQRCode_SYMBOL=255]="ScannerQRCode_SYMBOL",t[t.ScannerQRCode_ADDON2=512]="ScannerQRCode_ADDON2",t[t.ScannerQRCode_ADDON5=1280]="ScannerQRCode_ADDON5",t[t.ScannerQRCode_ADDON=1792]="ScannerQRCode_ADDON",t}(Ye||{});var dt="assets/wasm/index.js",ut="https://cdn.jsdelivr.net/npm/ngx-scanner-qrcode@1.7.3/wasm/index.js",Hn="https://cdn.jsdelivr.net/npm/ngx-scanner-qrcode@latest/wasm/index.js",Un="data:audio/mpeg;base64,SUQzBAAAAAAAI1RTU0UAAAAPAAADTGF2ZjU4LjI5LjEwMAAAAAAAAAAAAAAA/+M4wAAAAAAAAAAAAEluZm8AAAAPAAAABQAAAkAAgICAgICAgICAgICAgICAgICAgKCgoKCgoKCgoKCgoKCgoKCgoKCgwMDAwMDAwMDAwMDAwMDAwMDAwMDg4ODg4ODg4ODg4ODg4ODg4ODg4P//////////////////////////AAAAAExhdmM1OC41NAAAAAAAAAAAAAAAACQEUQAAAAAAAAJAk0uXRQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/+MYxAANQAbGeUEQAAHZYZ3fASqD4P5TKBgocg+Bw/8+CAYBA4XB9/4EBAEP4nB9+UOf/6gfUCAIKyjgQ/Kf//wfswAAAwQA/+MYxAYOqrbdkZGQAMA7DJLCsQxNOij///////////+tv///3RWiZGBEhsf/FO/+LoCSFs1dFVS/g8f/4Mhv0nhqAieHleLy/+MYxAYOOrbMAY2gABf/////////////////usPJ66R0wI4boY9/8jQYg//g2SPx1M0N3Z0kVJLIs///Uw4aMyvHJJYmPBYG/+MYxAgPMALBucAQAoGgaBoFQVBUFQWDv6gZBUFQVBUGgaBr5YSgqCoKhIGg7+IQVBUFQVBoGga//SsFSoKnf/iVTEFNRTMu/+MYxAYAAANIAAAAADEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV",_n={audio:!1,video:!0},pi={lineWidth:1,strokeStyle:"green",fillStyle:"#55f02880"},di={font:"15px serif",strokeStyle:"#fff0",fillStyle:"#ff0000"},ne={src:"",fps:30,vibrate:300,decode:"utf-8",unScan:!1,isBeep:!0,isMasked:!0,loadWasmUrl:"",symbolType:[Ye.ScannerQRCode_NONE],constraints:_n,canvasStyles:[pi,di]},zt=()=>"zbarWasm"in window,qn=(t,o,e)=>{if(o&&Object.keys(o[t]).length){for(let i in e){let n=JSON.parse(JSON.stringify(Xt(_t({},o[t]),{[i]:e[i]})));o[t]=o[t].hasOwnProperty(i)?o[t]:n}return o[t]}else return e},I=(t,o,e)=>{e?t.error(e):t.next(o),t.complete()},ci=(t=!1)=>{if(t===!1)return;let o=new Audio(Un);o.oncanplaythrough=()=>{let e=o.play();e&&e.catch(i=>{i.name==="NotAllowedError"||i.name})}},hn=(t,o,e,i)=>{let n,a,r=o.width,f=o.height,E=r/f,T=parseInt(getComputedStyle(o).width),_=parseInt(getComputedStyle(o).height),H=T/_;e.innerHTML="",E>H?(n=T/r,a=T/E/f):(a=_/f,n=_*E/r);for(let z=0;z<t.length;z++){let D=t[z],U=document.createElement("canvas"),ce=U.getContext("2d",{willReadFrequently:!0}),Z={},$e=[],N=[],M=0,Q=0,_e=i.length===2&&i[1]?.font?.replace(/[^0-9]/g,"");_e&&/[0-9]/g.test(_e)&&(M=parseFloat(_e),Q=(n||1)*M,Number.isNaN(Q)&&(Q=M));let Ze=D.points;for(let F=0;F<Ze.length;F++){let gt=Ze?.[F]?.x??0,ft=Ze?.[F]?.y??0;Z[`x${F+1}`]=gt,Z[`y${F+1}`]=ft,$e.push(gt),N.push(ft)}let Kt=Math.max(...$e),Oe=Math.min(...$e),Yt=Math.max(...N),Pe=Math.min(...N);U.setAttribute("class","qrcode-polygon"),E>H?(U.style.top=Pe*a+(_-T/E)*.5+"px",U.style.left=Oe*n+"px",U.width=(Kt-Oe)*n,U.height=(Yt-Pe)*n):(U.style.top=Pe*a+"px",U.style.left=Oe*n+(T-_*E)*.5+"px",U.width=(Kt-Oe)*a,U.height=(Yt-Pe)*a);for(let F in i[0])ce[F]=i[0][F];let Zt=[];for(let F=0;F<$e.length;F++)Zt.push((Z[`x${F+1}`]-Oe)*a),Zt.push((Z[`y${F+1}`]-Pe)*n);let Je=Zt.slice(0);for(ce.beginPath(),ce.moveTo(Je.shift(),Je.shift());Je.length;)ce.lineTo(Je.shift(),Je.shift());if(ce.closePath(),ce.fill(),ce.stroke(),M){let F=document.createElement("div");F.setAttribute("class","qrcode-tooltip-temp"),F.innerText=D.value,F.style.maxWidth=(r>window.innerWidth?window.innerWidth*.9:r)+"px",F.style.borderRadius=`clamp(1px, ${n*M-10}px, 3px)`,F.style.paddingBlock=`clamp(1px, ${n*M-10}px, 3px)`,F.style.paddingInline=`clamp(2.5px, ${n*M-6}px, 10px)`;let gt=`<svg xmlns="http://www.w3.org/2000/svg" width="${Q}" height="${Q}" viewBox="0 0 512 512"><rect x="128" y="128" width="336" height="336" rx="57" ry="57"></rect><path d="M383.5,128l.5-24a56.16,56.16,0,0,0-56-56H112a64.19,64.19,0,0,0-64,64V328a56.16,56.16,0,0,0,56,56h24"></path></svg>`,ft=new DOMParser().parseFromString(gt,"application/xml"),Jt=F.ownerDocument.importNode(ft.documentElement,!0);Jt.style.marginLeft=`clamp(1px, ${n*M-10}px, 3px)`,F.appendChild(Jt),Jt.addEventListener("click",()=>window.navigator.clipboard.writeText(D.value)),F.addEventListener("click",()=>window.navigator.clipboard.writeText(D.value));let Me=document.createElement("div");Me.setAttribute("class","qrcode-tooltip"),Me.appendChild(F),a=_/f,n=_*E/r,Me.style.fontSize=n*M+"px",Me.style.top=Pe*a+"px",Me.style.left=Oe*n+(T-_*E)*.5+"px",Me.style.width=(Kt-Oe)*a+"px",Me.style.height=(Yt-Pe)*a+"px";let Re=document.createElement("span");Re.innerText=D.value,Re.style.top=Pe*a+-20*a+"px",Re.style.left=Oe*n+(T-_*E)*.5+"px";let Ln=i[1]?.font?.split(" ")?.[1];Re.style.fontFamily=Ln,Re.style.fontSize=n*M+"px",Re.style.color=i?.[1]?.fillStyle,e?.appendChild(Me),e?.appendChild(Re)}e?.appendChild(U)}},jn=(t,o,e)=>{let i=o.getContext("2d",{willReadFrequently:!0});for(let n=0;n<t.length;n++){let a=t[n],r={},f=[],E=[],T=0,H=e[1]?.font?.split(" ")?.[0]?.replace(/[^0-9]/g,"");H&&/[0-9]/g.test(H)&&(T=parseFloat(H));let z=a.points;for(let N=0;N<z.length;N++){let M=z?.[N]?.x??0,Q=z?.[N]?.y??0;r[`x${N+1}`]=M,r[`y${N+1}`]=Q,f.push(M),E.push(Q)}let D=Math.min(...f),U=Math.min(...E),ce=()=>{for(let Q in e[0])i[Q]=e[0][Q];let N=[];for(let Q=0;Q<f.length;Q++)N.push(r[`x${Q+1}`]),N.push(r[`y${Q+1}`]);let M=N.slice(0);for(i.beginPath(),i.moveTo(M.shift(),M.shift());M.length;)i.lineTo(M.shift(),M.shift());i.closePath(),i.fill(),i.stroke()},Z=document.createElement("canvas"),$e=()=>{let N=e[1]?.font?.split(" ")?.[1];Z.height=o.height,Z.width=o.width;let M=Z.getContext("2d",{willReadFrequently:!0});M.font=T+"px "+N;for(let Q in e[1])M[Q]=e[1][Q];Kn(M,a.value,D,U-5)};ce(),$e(),i.drawImage(Z,0,0)}},Gn=(t,o)=>{let e=o?.decode??ne.decode,i=o?.canvasStyles?.length===2?o?.canvasStyles:[pi,di],n=o?.isBeep??ne.isBeep,a=o?.isMasked??ne.isMasked,r=o?.unScan??ne.unScan,f=o?.symbolType??ne.symbolType;return new Promise((E,T)=>{let _=new FileReader;_.onload=()=>{let H={name:t.name,file:t,url:URL.createObjectURL(t)},z=new Image;z.setAttribute("crossOrigin","anonymous"),z.onload=()=>Te(void 0,null,function*(){let D=document.createElement("canvas");D.width=z.naturalWidth||z.width,D.height=z.naturalHeight||z.height;let U=D.getContext("2d");U.drawImage(z,0,0,D.width,D.height);let ce=U.getImageData(0,0,D.width,D.height);if(r)return E(Object.assign({},H,{data:[],canvas:D}));if(zt()){let Z=yield zbarWasm.scanImageData(ce);if(f?.some(N=>N.toString()!==Ye.ScannerQRCode_NONE.toString())&&(Z=Z.filter(N=>{let M=N.typeName.replace("ZBAR","ScannerQRCode");return f?.some(_e=>_e.toString()===Ye[M].toString())})),Z?.length){Z.forEach(_e=>_e.value=_e.decode(e?.toLocaleLowerCase())),a&&jn(Z,D,i);let N=yield vn(D),M=URL.createObjectURL(N);E(Object.assign({},H,{data:Z,url:M,canvas:D,file:((_e,Ze)=>new File([_e],Ze,{lastModified:new Date().getTime(),type:_e.type}))(N,H.name)})),ci(n)}else E(Object.assign({},H,{data:Z,canvas:D}))}}),z.src=H.url},_.onerror=H=>T(H),_.readAsDataURL(t)})},vn=(t,o)=>new Promise((e,i)=>t.toBlob(n=>e(n),o)),Wn=(t,o)=>new File([t],o,{lastModified:new Date().getTime(),type:t.type}),Cn=(t=[],o,e,i,n=new pe)=>(yn(t,e,i).then(a=>{Promise.all(Object.assign([],a).map(r=>Gn(r,o))).then(r=>{I(n,r)}).catch(r=>I(n,null,r))}),n),Kn=(t,o,e,i)=>{let n=t.measureText("M").width*1.2,a=o.split(`
`);for(var r=0;r<a.length;++r)t.fillText(a[r],e,i),t.strokeText(a[r],e,i),i+=n},yn=(t=[],o=100,e=100)=>{if(t.length&&(o<100||e<100)){let i=[];return new Promise((n,a)=>{for(let r of t){let f=new Image,E=new FileReader;E.onload=function(T){f.onload=function(){let _=document.createElement("canvas"),H=_.getContext("2d"),z=Math.round(f.width*(o/100)),D=Math.round(f.height*(o/100));_.width=z,_.height=D,H.drawImage(f,0,0,z,D),_.toBlob(U=>{let ce=new File([U],r.name,{type:r.type});i.push(ce),t.length===i.length&&n(i)},r.type,e/100)},f.src=T.target.result},E.onerror=T=>a(T),E.readAsDataURL(r)}})}else return Promise.resolve(t)},gn=t=>{Object.assign([],t.childNodes).forEach(o=>t.removeChild(o))},Yn=t=>{t.getContext("2d",{willReadFrequently:!0}).clearRect(0,0,t.width,t.height)},si=(t,o)=>{t.style.width=o.offsetWidth+"px",t.style.height=o.offsetHeight+"px"},fn=(t=300)=>{t&&Zn()&&window?.navigator?.vibrate(t)},Zn=()=>{let t=navigator.userAgent||navigator.vendor||window.opera,o=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i,e=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i,i=/^((?!chrome|android).)*safari/i;return!!(o.test(t)||e.test(t.substr(0,4)))&&!i.test(t)},Jn=(()=>{class t{loadFiles(e=[],i,n){let a=new pe;return yn(e,i,n).then(r=>{Promise.all(Object.assign([],r).map(f=>this.readAsDataURL(f))).then(f=>I(a,f)).catch(f=>I(a,null,f))}),a}loadFilesToScan(e=[],i,n,a){return Cn(e,i,n,a)}readAsDataURL(e){return new Promise((i,n)=>{let a=new FileReader;a.onload=()=>{let r={name:e.name,file:e,url:URL.createObjectURL(e)};i(r)},a.onerror=r=>n(r),a.readAsDataURL(e)})}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=re({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),ui=(t="",o=new pe,e)=>{let i=0,n=(a=!1)=>{let r=T=>{let _;try{let H=()=>{T&&zbarWasm.setModuleArgs({locateFile:(D,U)=>t||U+D}),setTimeout(()=>I(o,!0))},z=()=>{clearTimeout(_),zt()?H():_=setTimeout(()=>z())};setTimeout(()=>z()),setTimeout(()=>clearTimeout(_),3e3)}catch{clearTimeout(_)}},f=document.querySelectorAll(`script[src="${ut}"]`),E=document.querySelectorAll(`script[src="${Hn}"]`);if(f.length||E.length)r(!1);else{let T=document.querySelectorAll(`script[src="${dt}"]`);if(T.length===1)r(!1);else if(T.forEach(_=>_.remove()),e){let _=e.createElement("script");e.setAttribute(_,"src",a?ut:dt),e.setAttribute(_,"type","text/javascript"),e.setAttribute(_,"async",""),e.appendChild(document.head,_),_.onload=()=>r(!0),_.onerror=()=>{i<2?(document.head.removeChild(_),n(!0)):I(o,!1,"Could not load script "+a?ut:dt)},i+=1}else{let _=document.createElement("script");_.setAttribute("src",a?ut:dt),_.setAttribute("type","text/javascript"),_.setAttribute("async",""),document.head.appendChild(_),_.onload=()=>r(!0),_.onerror=()=>{i<2?(document.head.removeChild(_),n(!0)):I(o,!1,"Could not load script "+a?ut:dt)},i+=1}}};return n(),o},Lt=(()=>{class t{constructor(e,i){this.renderer=e,this.elementRef=i,this.event=new x,this.config=ne,this.src=ne.src,this.fps=ne.fps,this.vibrate=ne.vibrate,this.decode=ne.decode,this.isBeep=ne.isBeep,this.isMasked=ne.isMasked,this.unScan=ne.unScan,this.loadWasmUrl=ne.loadWasmUrl,this.symbolType=ne.symbolType,this.constraints=ne.constraints,this.canvasStyles=[pi,di],this.isStart=!1,this.isPause=!1,this.isLoading=!1,this.isTorch=!1,this.data=new ei([]),this.devices=new ei([]),this.deviceIndexActive=0,this.dataForResize=[],this.ready=new pe,this.STATUS={startON:()=>this.isStart=!0,pauseON:()=>this.isPause=!0,loadingON:()=>this.isLoading=!0,startOFF:()=>this.isStart=!1,pauseOFF:()=>this.isPause=!1,loadingOFF:()=>this.isLoading=!1,torchOFF:()=>this.isTorch=!1}}ngOnInit(){this.overrideConfig(),ui(this.loadWasmUrl,this.ready,this.renderer).subscribe(()=>{this.src&&this.loadImage(this.src),this.resize()})}start(e){let i=new pe;return this.isStart?I(i,!1):this.safariWebRTC(i,e),i}stop(){this.STATUS.pauseOFF(),this.STATUS.startOFF(),this.STATUS.torchOFF(),this.STATUS.loadingOFF();let e=new pe;try{clearTimeout(this.rAF_ID),this.video.nativeElement.srcObject.getTracks().forEach(i=>{i.stop(),I(e,!0)}),this.dataForResize=[],Yn(this.canvas.nativeElement),gn(this.resultsPanel.nativeElement)}catch(i){I(e,!1,i)}return e}play(){let e=new pe;return this.isPause?(this.video.nativeElement.play(),this.STATUS.pauseOFF(),this.requestAnimationFrame(),I(e,!0)):I(e,!1),e}pause(){let e=new pe;return this.isStart?(clearTimeout(this.rAF_ID),this.video.nativeElement.pause(),this.STATUS.pauseON(),I(e,!0)):I(e,!1),e}playDevice(e,i=new pe){let n=this.getConstraints(),a=this.isStart&&n?n.deviceId!==e:!0;switch(!0){case(e==="null"||e==="undefined"||!e):stop(),this.stop(),I(i,!1);break;case(e&&a):stop(),this.stop(),this.STATUS.loadingON(),this.deviceIndexActive=this.devices.value.findIndex(f=>f.deviceId===e);let r=Xt(_t({},this.constraints),{audio:!1,video:_t({deviceId:e},this.constraints.video)});navigator.mediaDevices.getUserMedia(r).then(f=>{this.video.nativeElement.srcObject=f,this.video.nativeElement.onloadedmetadata=()=>{this.video.nativeElement.play(),this.requestAnimationFrame(),I(i,!0),this.STATUS.startON(),this.STATUS.loadingOFF()}}).catch(f=>{this.eventEmit(!1),I(i,!1,f),this.STATUS.startOFF(),this.STATUS.loadingOFF()});break;default:I(i,!1),this.STATUS.loadingOFF();break}return i}loadImage(e){let i=new pe;this.STATUS.startOFF(),this.STATUS.loadingON();let n=new Image;return n.setAttribute("crossOrigin","anonymous"),n.onload=()=>{zt()&&this.drawImage(n,a=>{I(i,a),this.STATUS.startOFF(),this.STATUS.loadingOFF()})},n.src=e,i}torcher(){let e=this.applyConstraints({advanced:[{torch:this.isTorch}]});return e.subscribe(()=>!1,()=>this.isTorch=!this.isTorch),e}applyConstraints(e,i=0){let n=new pe;if(this.isStart){let a=this.video.nativeElement.srcObject;if(i!==null||i!==void 0||!Number.isNaN(i)){let r=a.getVideoTracks()[i];new window.ImageCapture(r).getPhotoCapabilities().then(()=>Te(this,null,function*(){yield r.applyConstraints(e),si(this.video.nativeElement,this.canvas.nativeElement),I(n,!0)})).catch(E=>{switch(E?.name){case"NotFoundError":case"DevicesNotFoundError":I(n,!1,"Required track is missing");break;case"NotReadableError":case"TrackStartError":I(n,!1,"Webcam or mic are already in use");break;case"OverconstrainedError":case"ConstraintNotSatisfiedError":I(n,!1,"Constraints can not be satisfied by avb. devices");break;case"NotAllowedError":case"PermissionDeniedError":I(n,!1,"Permission denied in browser");break;case"TypeError":I(n,!1,"Empty constraints object");break;default:I(n,!1,E);break}})}else I(n,!1,"Please check again deviceIndex")}else I(n,!1,"Please start the scanner");return n}getConstraints(e=0){return this.video.nativeElement.srcObject?.getVideoTracks()[e]?.getConstraints()}download(e=`ngx_scanner_qrcode_${Date.now()}.png`,i,n){let a=new pe;return Te(this,null,function*(){let r=yield vn(this.canvas.nativeElement),f=Wn(r,e);Cn([f],this.config,i,n,a).subscribe(E=>{E.forEach(T=>{if(T?.data?.length){let _=document.createElement("a");_.href=T.url,_.download=T.name,_.click(),_.remove()}})})}),a}resize(){window.addEventListener("resize",()=>{hn(this.dataForResize,this.canvas.nativeElement,this.resultsPanel.nativeElement,this.canvasStyles),si(this.video.nativeElement,this.canvas.nativeElement)})}overrideConfig(){"src"in this.config&&(this.src=this.config.src),"fps"in this.config&&(this.fps=this.config.fps),"vibrate"in this.config&&(this.vibrate=this.config.vibrate),"decode"in this.config&&(this.decode=this.config.decode),"isBeep"in this.config&&(this.isBeep=this.config.isBeep),"isMasked"in this.config&&(this.isMasked=this.config.isMasked),"unScan"in this.config&&(this.unScan=this.config.unScan),"loadWasmUrl"in this.config&&(this.loadWasmUrl=this.config.loadWasmUrl),"symbolType"in this.config&&(this.symbolType=this.config.symbolType),"constraints"in this.config&&(this.constraints=qn("constraints",this.config,_n)),"canvasStyles"in this.config&&this.config?.canvasStyles?.length===2&&(this.canvasStyles=this.config.canvasStyles)}safariWebRTC(e,i){this.STATUS.startOFF(),this.STATUS.loadingON(),navigator.mediaDevices.getUserMedia(this.constraints).then(n=>{n.getTracks().forEach(a=>a.stop()),this.loadAllDevices(e,i)}).catch(n=>{I(e,!1,n),this.STATUS.startOFF(),this.STATUS.loadingOFF()})}loadAllDevices(e,i){navigator.mediaDevices.enumerateDevices().then(n=>{let a=n.filter(r=>r.kind=="videoinput");this.devices.next(a),a?.length>0?(I(e,a),i?i(a):this.playDevice(a[0].deviceId)):(I(e,!1,"No camera detected."),this.STATUS.startOFF(),this.STATUS.loadingOFF())}).catch(n=>{I(e,!1,n),this.STATUS.startOFF(),this.STATUS.loadingOFF()})}drawImage(e,i=()=>{}){return Te(this,null,function*(){let n=this.canvas.nativeElement,a=n.getContext("2d",{willReadFrequently:!0});e instanceof HTMLImageElement&&(n.width=e.naturalWidth,n.height=e.naturalHeight,e.style.visibility="",this.video.nativeElement.style.visibility="hidden",this.renderer.setStyle(this.elementRef.nativeElement,"width",n.width+"px"),this.renderer.setStyle(this.elementRef.nativeElement,"maxWidth","100%"),this.renderer.setStyle(this.elementRef.nativeElement,"display","inline-block")),e instanceof HTMLVideoElement&&(n.width=e.videoWidth,n.height=e.videoHeight,e.style.visibility="",this.canvas.nativeElement.style.visibility="hidden"),si(this.video.nativeElement,n),a.clearRect(0,0,n.width,n.height),a.drawImage(e,0,0,n.width,n.height);let r=a.getImageData(0,0,n.width,n.height);if(this.unScan)return Promise.resolve();let f=yield zbarWasm.scanImageData(r);if(this.symbolType?.some(T=>T.toString()!==Ye.ScannerQRCode_NONE.toString())&&(f=f.filter(T=>{let _=T.typeName.replace("ZBAR","ScannerQRCode");return this.symbolType?.some(z=>z.toString()===Ye[_].toString())})),f?.length){f.forEach(_=>_.value=_.decode(this.decode?.toLocaleLowerCase())),this.isMasked&&hn(f,Object.freeze(this.canvas.nativeElement),this.resultsPanel.nativeElement,this.canvasStyles);let T=()=>{this.eventEmit(f),this.dataForResize=f};e instanceof HTMLImageElement&&(i(!0),T(),fn(this.vibrate),ci(this.isBeep)),e instanceof HTMLVideoElement&&(T(),fn(this.vibrate),ci(this.isBeep))}else i(!1),gn(this.resultsPanel.nativeElement),this.dataForResize=[]})}eventEmit(e=!1){e!==!1&&this.data.next(e||[]),e!==!1&&this.event.emit(e||[])}requestAnimationFrame(e=100){try{clearTimeout(this.rAF_ID),this.rAF_ID=setTimeout(()=>{this.video.nativeElement.readyState===this.video.nativeElement.HAVE_ENOUGH_DATA&&(e=0,zt()&&this.drawImage(this.video.nativeElement),this.isStart&&!this.isPause&&this.requestAnimationFrame(e))},e||this.fps)}catch{clearTimeout(this.rAF_ID)}}get isReady(){return this.ready}ngOnDestroy(){this.pause()}static{this.\u0275fac=function(i){return new(i||t)(J(xi),J(bi))}}static{this.\u0275cmp=O({type:t,selectors:[["ngx-scanner-qrcode"]],viewQuery:function(i,n){if(i&1&&(G($n,5),G(Rn,5),G(Qn,5)),i&2){let a;b(a=w())&&(n.video=a.first),b(a=w())&&(n.canvas=a.first),b(a=w())&&(n.resultsPanel=a.first)}},hostAttrs:[1,"ngx-scanner-qrcode"],inputs:{config:"config",src:"src",fps:"fps",vibrate:"vibrate",decode:"decode",isBeep:"isBeep",isMasked:"isMasked",unScan:"unScan",loadWasmUrl:"loadWasmUrl",symbolType:"symbolType",constraints:"constraints",canvasStyles:"canvasStyles"},outputs:{event:"event"},exportAs:["scanner"],decls:6,vars:0,consts:[["resultsPanel",""],["canvas",""],["video",""],[1,"origin-overlay"],[1,"origin-canvas"],["playsinline","",1,"origin-video"]],template:function(i,n){i&1&&y(0,"div",3,0)(2,"canvas",4,1)(4,"video",5,2)},styles:[`.ngx-scanner-qrcode{display:block;position:relative}.origin-overlay{width:100%;position:absolute}.origin-overlay span{z-index:2;text-align:left;position:absolute}.origin-overlay .qrcode-polygon{z-index:1;position:absolute}.origin-canvas{width:100%;position:absolute}.origin-video{width:100%;background-color:#262626}.qrcode-tooltip{z-index:3;position:absolute}.qrcode-tooltip:hover .qrcode-tooltip-temp{display:block;position:absolute;cursor:copy}.qrcode-tooltip:hover .qrcode-tooltip-temp:active{color:#afafaf}.qrcode-tooltip .qrcode-tooltip-temp{bottom:0;left:50%;color:#fff;text-align:left;display:none;width:max-content;word-wrap:break-word;transform:translate(-50%);transform-style:preserve-3d;background-color:#000000d0;box-shadow:1px 1px 20px #000000e0}.qrcode-tooltip .qrcode-tooltip-temp svg{cursor:pointer}.qrcode-tooltip .qrcode-tooltip-temp svg rect{fill:none;stroke:#fff;stroke-linejoin:round;stroke-width:32px}.qrcode-tooltip .qrcode-tooltip-temp svg path{fill:none;stroke:#fff;stroke-linecap:round;stroke-linejoin:round;stroke-width:32px}.qrcode-tooltip .qrcode-tooltip-temp svg:active rect{stroke:#afafaf}.qrcode-tooltip .qrcode-tooltip-temp svg:active path{stroke:#afafaf}
`],encapsulation:2})}}return t})(),bn=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=ke({type:t})}static{this.\u0275inj=Ve({providers:[Jn]})}}return t})();var eo=()=>({width:"35rem"}),to=()=>({"800px":"25rem","500px":"24rem"}),wn=t=>({hidden:t}),io=()=>({width:"40px",height:"40px"});function no(t,o){if(t&1&&(p(0,"option",20),v(1),d()),t&2){let e=o.$implicit,i=o.index;s();let n=be(17);l("value",e.deviceId)("selected",i==n.deviceIndexActive),c(),ue(e.label)}}function oo(t,o){t&1&&(p(0,"div",11),y(1,"p-progress-spinner",21),d()),t&2&&(c(),ie(ae(2,io)))}ui("assets/wasm/ngx-scanner-qrcode.wasm").subscribe();var Nt=class t{constructor(o){this.messageServ=o}destroy$=new fi;modalVisibiliy=!0;scannerConfig={constraints:{video:{width:window.innerWidth}},isBeep:!1};cameras=[];selectedDeviceId="";products=[];onScannedProduct=new x;onCloseScannerModal=new x;scanner;lastScannedValue;ngOnInit(){this.initScanner()}ngOnDestroy(){this.scanner?.stop(),this.destroy$.next(),this.destroy$.complete()}handle(o,e){let i=n=>{let a=n.find(r=>/back|rear|environment/gi.test(r.label));o.playDevice(a?a.deviceId:n[0].deviceId)};e==="start"?o[e](i).pipe(ti(this.destroy$)).subscribe(n=>console.log(e,n),alert):o[e]().pipe(ti(this.destroy$)).subscribe(n=>console.log(e,n),alert)}checkCameraPermission(){return Te(this,null,function*(){try{return(yield navigator.mediaDevices.getUserMedia({video:!0})).getTracks().forEach(e=>e.stop()),!0}catch(o){return console.error("Error al verificar los permisos de la c\xE1mara:",o),!1}})}initScanner(){return Te(this,null,function*(){if(this.modalVisibiliy&&!(yield this.checkCameraPermission())){this.messageServ.add({severity:"error",summary:"Permisos de c\xE1mara denegados",detail:"Para usar el escaner, necesita habilitar los permisos de c\xE1mara en la configuraci\xF3n de su navegador.",key:"toast-scanner",life:1e4,sticky:!0,closable:!0});return}this.lastScannedValue=void 0,this.handle(this.scanner,"start")})}changeModalVisibiliy(o){return Te(this,null,function*(){if(o&&!(yield this.checkCameraPermission())){this.messageServ.add({severity:"error",summary:"Permisos de c\xE1mara denegados",detail:"Para usar el escaner, necesita habilitar los permisos de c\xE1mara en la configuraci\xF3n de su navegador.",key:"toast-scanner",life:1e4,sticky:!0,closable:!0});return}if(this.modalVisibiliy=o,this.lastScannedValue=void 0,!o){this.scanner?.stop();return}this.handle(this.scanner,"start")})}onCloseModal(){this.modalVisibiliy=!0,this.onCloseScannerModal.emit()}searchScannedProduct(o){return this.products.find(e=>e.code.toLowerCase()===o.toLocaleLowerCase())}onValueScanned(o){if(o[0].value.length===0)return;let e=this.searchScannedProduct(o[0].value);e?(this.lastScannedValue=o[0].value,this.onScannedProduct.emit(e),this.messageServ.add({severity:"success",summary:"Producto escaneado",detail:"Se agreg\xF3 el producto a la cotizaci\xF3n",key:"toast-scanner",life:2500})):(this.lastScannedValue=o[0].value,this.onScannedProduct.emit(e),this.messageServ.add({severity:"warn",summary:"Producto no encontrado",detail:"El producto no fue encontrado, intente escanearlo nuevamente.",key:"toast-scanner",life:2500})),this.onCloseModal()}static \u0275fac=function(e){return new(e||t)(J(Le))};static \u0275cmp=O({type:t,selectors:[["scanner-code"]],viewQuery:function(e,i){if(e&1&&G(Lt,5),e&2){let n;b(n=w())&&(i.scanner=n.first)}},inputs:{products:"products"},outputs:{onScannedProduct:"onScannedProduct",onCloseScannerModal:"onCloseScannerModal"},standalone:!0,features:[oe([Le]),V],decls:24,vars:20,consts:[["select1",""],["action","scanner"],["header","Escanear producto","id","scanner-modal","styleClass","m-2",3,"visibleChange","onHide","modal","visible","breakpoints"],[1,"mb-2","leading-5"],[1,"flex","flex-wrap","gap-2","mt-2","items-center",3,"ngClass"],["for","cameraSelect"],[1,"border","border-slate-400","p-1","px-4","text-sm","text-slate-500","rounded-md","bg-white",3,"change"],["selected","",3,"value"],[3,"value","selected",4,"ngFor","ngForOf"],[1,"corner-borders","m-2"],[1,"relative","w-full","max-w-md","mx-auto","min-h-28","md:min-h-40"],[1,"text-center","absolute","flex","justify-center","items-center","w-full","h-full"],[3,"ngClass"],[3,"event","config","fps","isBeep","vibrate"],[1,"absolute","inset-0","qr-scanner-overlay"],[1,"qr-scanner-corner","top-left"],[1,"qr-scanner-corner","top-right"],[1,"qr-scanner-corner","bottom-left"],[1,"qr-scanner-corner","bottom-right"],["position","top-center","key","toast-scanner"],[3,"value","selected"],["ariaLabel","loading","strokeWidth","5","styleClass","top-3"]],template:function(e,i){if(e&1){let n=S();p(0,"p-dialog",2),R("visibleChange",function(r){return u(n),$(i.modalVisibiliy,r)||(i.modalVisibiliy=r),m(r)}),g("onHide",function(){return u(n),m(i.onCloseModal())}),p(1,"div")(2,"p",3),v(3,"Enfoca el c\xF3digo QR o c\xF3digo de barras del producto para escanearlo."),d(),p(4,"div",4)(5,"label",5),v(6,"C\xE1mara: "),d(),p(7,"select",6,0),g("change",function(){u(n);let r=be(8),f=be(17);return m(f.playDevice(r.value))}),p(9,"option",7),v(10,"Seleccione el dispositivo"),d(),h(11,no,2,3,"option",8),d()(),p(12,"div",9)(13,"div",10),h(14,oo,2,3,"div",11),p(15,"div",12)(16,"ngx-scanner-qrcode",13,1),g("event",function(r){return u(n),m(i.onValueScanned(r))}),d(),p(18,"div",14),y(19,"div",15)(20,"div",16)(21,"div",17)(22,"div",18),d()()()()()(),y(23,"p-toast",19)}if(e&2){let n,a,r=be(17);ie(ae(14,eo)),l("modal",!0),B("visible",i.modalVisibiliy),l("breakpoints",ae(15,to)),c(4),l("ngClass",A(16,wn,(n=i.scanner==null?null:i.scanner.isLoading)!==null&&n!==void 0?n:!1)),c(5),l("value",null),c(2),l("ngForOf",r.devices.value),c(3),Y(i.scanner!=null&&i.scanner.isLoading?14:-1),c(),l("ngClass",A(18,wn,(a=i.scanner==null?null:i.scanner.isLoading)!==null&&a!==void 0?a:!1)),c(),l("config",i.scannerConfig)("fps",1)("isBeep",!0)("vibrate",1)}},dependencies:[k,te,yt,we,Di,Fi,Ke,Vt,bn,Lt,Ot,Ft,Mt],styles:[".qr-scanner-overlay[_ngcontent-%COMP%]{pointer-events:none}.qr-scanner-corner[_ngcontent-%COMP%]{position:absolute;width:20%;height:20%;border:2px solid #ff0000}.qr-scanner-corner.top-left[_ngcontent-%COMP%]{top:10%;left:10%;border-right:none;border-bottom:none}.qr-scanner-corner.top-right[_ngcontent-%COMP%]{top:10%;right:10%;border-left:none;border-bottom:none}.qr-scanner-corner.bottom-left[_ngcontent-%COMP%]{bottom:10%;left:10%;border-right:none;border-top:none}.qr-scanner-corner.bottom-right[_ngcontent-%COMP%]{bottom:10%;right:10%;border-left:none;border-top:none}"]})};var ao=({dt:t})=>`
.p-chip {
    display: inline-flex;
    align-items: center;
    background: ${t("chip.background")};
    color: ${t("chip.color")};
    border-radius: ${t("chip.border.radius")};
    padding: ${t("chip.padding.y")} ${t("chip.padding.x")};
    gap: ${t("chip.gap")};
}

.p-chip-icon {
    color: ${t("chip.icon.color")};
    font-size: ${t("chip.icon.font.size")};
    width: ${t("chip.icon.size")};
    height: ${t("chip.icon.size")};
}

.p-chip-image {
    border-radius: 50%;
    width: ${t("chip.image.width")};
    height: ${t("chip.image.height")};
    margin-left: calc(-1 * ${t("chip.padding.y")});
}

.p-chip:has(.p-chip-remove-icon) {
    padding-inline-end: ${t("chip.padding.y")};
}

.p-chip:has(.p-chip-image) {
    padding-top: calc(${t("chip.padding.y")} / 2);
    padding-bottom: calc(${t("chip.padding.y")} / 2);
}

.p-chip-remove-icon {
    cursor: pointer;
    font-size: ${t("chip.remove.icon.font.size")};
    width: ${t("chip.remove.icon.size")};
    height: ${t("chip.remove.icon.size")};
    color: ${t("chip.remove.icon.color")};
    border-radius: 50%;
    transition: outline-color ${t("chip.transition.duration")}, box-shadow ${t("chip.transition.duration")};
    outline-color: transparent;
}

.p-chip-remove-icon:focus-visible {
    box-shadow: ${t("chip.remove.icon.focus.ring.shadow")};
    outline: ${t("chip.remove.icon.focus.ring.width")} ${t("chip.remove.icon.focus.ring.style")} ${t("chip.remove.icon.focus.ring.color")};
    outline-offset: ${t("chip.remove.icon.focus.ring.offset")};
}
`,ro={root:"p-chip p-component",image:"p-chip-image",icon:"p-chip-icon",label:"p-chip-label",removeIcon:"p-chip-remove-icon"},xn=(()=>{class t extends Se{name="chip";theme=ao;classes=ro;static \u0275fac=(()=>{let e;return function(n){return(e||(e=K(t)))(n||t)}})();static \u0275prov=re({token:t,factory:t.\u0275fac})}return t})();var lo=["removeicon"],so=["*"];function co(t,o){if(t&1){let e=S();p(0,"img",4),g("error",function(n){u(e);let a=s();return m(a.imageError(n))}),d()}if(t&2){let e=s();l("src",e.image,wi)("alt",e.alt)}}function po(t,o){if(t&1&&y(0,"span",6),t&2){let e=s(2);X(e.icon),l("ngClass","p-chip-icon"),C("data-pc-section","icon")}}function uo(t,o){if(t&1&&h(0,po,1,4,"span",5),t&2){let e=s();l("ngIf",e.icon)}}function mo(t,o){if(t&1&&(p(0,"div",7),v(1),d()),t&2){let e=s();C("data-pc-section","label"),c(),ue(e.label)}}function ho(t,o){if(t&1){let e=S();p(0,"span",11),g("click",function(n){u(e);let a=s(3);return m(a.close(n))})("keydown",function(n){u(e);let a=s(3);return m(a.onKeydown(n))}),d()}if(t&2){let e=s(3);X(e.removeIcon),l("ngClass","p-chip-remove-icon"),C("data-pc-section","removeicon")("aria-label",e.removeAriaLabel)}}function go(t,o){if(t&1){let e=S();p(0,"TimesCircleIcon",12),g("click",function(n){u(e);let a=s(3);return m(a.close(n))})("keydown",function(n){u(e);let a=s(3);return m(a.onKeydown(n))}),d()}if(t&2){let e=s(3);X("p-chip-remove-icon"),C("data-pc-section","removeicon")("aria-label",e.removeAriaLabel)}}function fo(t,o){if(t&1&&(q(0),h(1,ho,1,5,"span",9)(2,go,1,4,"TimesCircleIcon",10),j()),t&2){let e=s(2);c(),l("ngIf",e.removeIcon),c(),l("ngIf",!e.removeIcon)}}function _o(t,o){}function vo(t,o){t&1&&h(0,_o,0,0,"ng-template")}function Co(t,o){if(t&1){let e=S();p(0,"span",13),g("click",function(n){u(e);let a=s(2);return m(a.close(n))})("keydown",function(n){u(e);let a=s(2);return m(a.onKeydown(n))}),h(1,vo,1,0,null,14),d()}if(t&2){let e=s(2);C("data-pc-section","removeicon")("aria-label",e.removeAriaLabel),c(),l("ngTemplateOutlet",e.removeIconTemplate||e._removeIconTemplate)}}function yo(t,o){if(t&1&&(q(0),h(1,fo,3,2,"ng-container",3)(2,Co,2,3,"span",8),j()),t&2){let e=s();c(),l("ngIf",!e.removeIconTemplate&&!e._removeIconTemplate),c(),l("ngIf",e.removeIconTemplate||e._removeIconTemplate)}}var Sn=(()=>{class t extends se{label;icon;image;alt;style;styleClass;removable=!1;removeIcon;onRemove=new x;onImageError=new x;visible=!0;get removeAriaLabel(){return this.config.getTranslation(St.ARIA).removeLabel}get chipProps(){return this._chipProps}set chipProps(e){this._chipProps=e,e&&typeof e=="object"&&Object.entries(e).forEach(([i,n])=>this[`_${i}`]!==n&&(this[`_${i}`]=n))}_chipProps;_componentStyle=W(xn);removeIconTemplate;templates;_removeIconTemplate;ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"removeicon":this._removeIconTemplate=e.template;break;default:this._removeIconTemplate=e.template;break}})}ngOnChanges(e){if(super.ngOnChanges(e),e.chipProps&&e.chipProps.currentValue){let{currentValue:i}=e.chipProps;i.label!==void 0&&(this.label=i.label),i.icon!==void 0&&(this.icon=i.icon),i.image!==void 0&&(this.image=i.image),i.alt!==void 0&&(this.alt=i.alt),i.style!==void 0&&(this.style=i.style),i.styleClass!==void 0&&(this.styleClass=i.styleClass),i.removable!==void 0&&(this.removable=i.removable),i.removeIcon!==void 0&&(this.removeIcon=i.removeIcon)}}containerClass(){let e="p-chip p-component";return this.styleClass&&(e+=` ${this.styleClass}`),e}close(e){this.visible=!1,this.onRemove.emit(e)}onKeydown(e){(e.key==="Enter"||e.key==="Backspace")&&this.close(e)}imageError(e){this.onImageError.emit(e)}static \u0275fac=(()=>{let e;return function(n){return(e||(e=K(t)))(n||t)}})();static \u0275cmp=O({type:t,selectors:[["p-chip"]],contentQueries:function(i,n,a){if(i&1&&(L(a,lo,4),L(a,Ne,4)),i&2){let r;b(r=w())&&(n.removeIconTemplate=r.first),b(r=w())&&(n.templates=r)}},hostVars:9,hostBindings:function(i,n){i&2&&(C("data-pc-name","chip")("aria-label",n.label)("data-pc-section","root"),ie(n.style),X(n.containerClass()),De("display",!n.visible&&"none"))},inputs:{label:"label",icon:"icon",image:"image",alt:"alt",style:"style",styleClass:"styleClass",removable:[2,"removable","removable",P],removeIcon:"removeIcon",chipProps:"chipProps"},outputs:{onRemove:"onRemove",onImageError:"onImageError"},standalone:!0,features:[oe([xn]),je,le,vi,V],ngContentSelectors:so,decls:6,vars:4,consts:[["iconTemplate",""],["class","p-chip-image",3,"src","alt","error",4,"ngIf","ngIfElse"],["class","p-chip-label",4,"ngIf"],[4,"ngIf"],[1,"p-chip-image",3,"error","src","alt"],[3,"class","ngClass",4,"ngIf"],[3,"ngClass"],[1,"p-chip-label"],["tabindex","0","class","p-chip-remove-icon","role","button",3,"click","keydown",4,"ngIf"],["tabindex","0","role","button",3,"class","ngClass","click","keydown",4,"ngIf"],["tabindex","0","role","button",3,"class","click","keydown",4,"ngIf"],["tabindex","0","role","button",3,"click","keydown","ngClass"],["tabindex","0","role","button",3,"click","keydown"],["tabindex","0","role","button",1,"p-chip-remove-icon",3,"click","keydown"],[4,"ngTemplateOutlet"]],template:function(i,n){if(i&1&&(ye(),ve(0),h(1,co,1,2,"img",1)(2,uo,1,1,"ng-template",null,0,ee)(4,mo,2,2,"div",2)(5,yo,3,2,"ng-container",3)),i&2){let a=be(3);c(),l("ngIf",n.image)("ngIfElse",a),c(3),l("ngIf",n.label),c(),l("ngIf",n.removable)}},dependencies:[k,te,He,Ue,Tt,ge],encapsulation:2,changeDetection:0})}return t})();var bo=({dt:t})=>`
.p-autocomplete {
    display: inline-flex;
}

.p-autocomplete-loader {
    position: absolute;
    top: 50%;
    margin-top: -0.5rem;
    inset-inline-end: ${t("autocomplete.padding.x")};
}

.p-autocomplete:has(.p-autocomplete-dropdown) .p-autocomplete-loader {
    inset-inline-end: calc(${t("autocomplete.dropdown.width")} + ${t("autocomplete.padding.x")});
}

.p-autocomplete:has(.p-autocomplete-dropdown) .p-autocomplete-input {
    flex: 1 1 auto;
    width: 1%;
}

.p-autocomplete:has(.p-autocomplete-dropdown) .p-autocomplete-input,
.p-autocomplete:has(.p-autocomplete-dropdown) .p-autocomplete-input-multiple {
    border-start-end-radius: 0;
    border-end-end-radius: 0;
}

.p-autocomplete-dropdown {
    cursor: pointer;
    display: inline-flex;
    user-select: none;
    align-items: center;
    justify-content: center;
    overflow: hidden;
    position: relative;
    width: ${t("autocomplete.dropdown.width")};
    border-start-end-radius: ${t("autocomplete.dropdown.border.radius")};
    border-end-end-radius: ${t("autocomplete.dropdown.border.radius")};
    background: ${t("autocomplete.dropdown.background")};
    border: 1px solid ${t("autocomplete.dropdown.border.color")};
    border-inline-start: 0 none;
    color: ${t("autocomplete.dropdown.color")};
    transition: background ${t("autocomplete.transition.duration")}, color ${t("autocomplete.transition.duration")}, border-color ${t("autocomplete.transition.duration")}, outline-color ${t("autocomplete.transition.duration")}, box-shadow ${t("autocomplete.transition.duration")};
    outline-color: transparent;
}

.p-autocomplete-dropdown:not(:disabled):hover {
    background: ${t("autocomplete.dropdown.hover.background")};
    border-color: ${t("autocomplete.dropdown.hover.border.color")};
    color: ${t("autocomplete.dropdown.hover.color")};
}

.p-autocomplete-dropdown:not(:disabled):active {
    background: ${t("autocomplete.dropdown.active.background")};
    border-color: ${t("autocomplete.dropdown.active.border.color")};
    color: ${t("autocomplete.dropdown.active.color")};
}

.p-autocomplete-dropdown:focus-visible {
    box-shadow: ${t("autocomplete.dropdown.focus.ring.shadow")};
    outline: ${t("autocomplete.dropdown.focus.ring.width")} ${t("autocomplete.dropdown.focus.ring.style")} ${t("autocomplete.dropdown.focus.ring.color")};
    outline-offset: ${t("autocomplete.dropdown.focus.ring.offset")};
}

.p-autocomplete .p-autocomplete-overlay {
    min-width: 100%;
}

.p-autocomplete-overlay {
    background: ${t("autocomplete.overlay.background")};
    color: ${t("autocomplete.overlay.color")};
    border: 1px solid ${t("autocomplete.overlay.border.color")};
    border-radius: ${t("autocomplete.overlay.border.radius")};
    box-shadow: ${t("autocomplete.overlay.shadow")};
}

.p-autocomplete-list-container {
    overflow: auto;
}

.p-autocomplete-list {
    margin: 0;
    list-style-type: none;
    display: flex;
    flex-direction: column;
    gap: ${t("autocomplete.list.gap")};
    padding: ${t("autocomplete.list.padding")};
}

.p-autocomplete-option {
    cursor: pointer;
    white-space: nowrap;
    position: relative;
    overflow: hidden;
    display: flex;
    align-items: center;
    padding: ${t("autocomplete.option.padding")};
    border: 0 none;
    color: ${t("autocomplete.option.color")};
    background: transparent;
    transition: background ${t("autocomplete.transition.duration")}, color ${t("autocomplete.transition.duration")}, border-color ${t("autocomplete.transition.duration")};
    border-radius: ${t("autocomplete.option.border.radius")};
}

.p-autocomplete-option:not(.p-autocomplete-option-selected):not(.p-disabled).p-focus {
    background: ${t("autocomplete.option.focus.background")};
    color: ${t("autocomplete.option.focus.color")};
}

.p-autocomplete-option-selected {
    background: ${t("autocomplete.option.selected.background")};
    color: ${t("autocomplete.option.selected.color")};
}

.p-autocomplete-option-selected.p-focus {
    background: ${t("autocomplete.option.selected.focus.background")};
    color: ${t("autocomplete.option.selected.focus.color")};
}

.p-autocomplete-option-group {
    margin: 0;
    padding: ${t("autocomplete.option.group.padding")};
    color: ${t("autocomplete.option.group.color")};
    background: ${t("autocomplete.option.group.background")};
    font-weight: ${t("autocomplete.option.group.font.weight")};
}

.p-autocomplete-input-multiple {
    margin: 0;
    list-style-type: none;
    cursor: text;
    overflow: hidden;
    display: flex;
    align-items: center;
    flex-wrap: wrap;
    padding: calc(${t("autocomplete.padding.y")} / 2) ${t("autocomplete.padding.x")};
    gap: calc(${t("autocomplete.padding.y")} / 2);
    color: ${t("autocomplete.color")};
    background: ${t("autocomplete.background")};
    border: 1px solid ${t("autocomplete.border.color")};
    border-radius: ${t("autocomplete.border.radius")};
    width: 100%;
    transition: background ${t("autocomplete.transition.duration")}, color ${t("autocomplete.transition.duration")}, border-color ${t("autocomplete.transition.duration")}, outline-color ${t("autocomplete.transition.duration")}, box-shadow ${t("autocomplete.transition.duration")};
    outline-color: transparent;
    box-shadow: ${t("autocomplete.shadow")};
}

.p-autocomplete:not(.p-disabled):hover .p-autocomplete-input-multiple {
    border-color: ${t("autocomplete.hover.border.color")};
}

.p-autocomplete:not(.p-disabled).p-focus .p-autocomplete-input-multiple {
    border-color: ${t("autocomplete.focus.border.color")};
    box-shadow: ${t("autocomplete.focus.ring.shadow")};
    outline: ${t("autocomplete.focus.ring.width")} ${t("autocomplete.focus.ring.style")} ${t("autocomplete.focus.ring.color")};
    outline-offset: ${t("autocomplete.focus.ring.offset")};
}

.p-autocomplete.p-invalid .p-autocomplete-input-multiple {
    border-color: ${t("autocomplete.invalid.border.color")};
}

.p-variant-filled.p-autocomplete-input-multiple {
    background: ${t("autocomplete.filled.background")};
}

.p-autocomplete:not(.p-disabled):hover .p-variant-filled.p-autocomplete-input-multiple {
    background: ${t("autocomplete.filled.hover.background")};
}

.p-autocomplete:not(.p-disabled).p-focus .p-variant-filled.p-autocomplete-input-multiple  {
    background: ${t("autocomplete.filled.focus.background")};
}

.p-autocomplete.p-disabled .p-autocomplete-input-multiple {
    opacity: 1;
    background: ${t("autocomplete.disabled.background")};
    color: ${t("autocomplete.disabled.color")};
}

.p-autocomplete-chip.p-chip {
    padding-block-start: calc(${t("autocomplete.padding.y")} / 2);
    padding-block-end: calc(${t("autocomplete.padding.y")} / 2);
    border-radius: ${t("autocomplete.chip.border.radius")};
}

.p-autocomplete-input-multiple:has(.p-autocomplete-chip) {
    padding-inline-start: calc(${t("autocomplete.padding.y")} / 2);
    padding-inline-end: calc(${t("autocomplete.padding.y")} / 2);
}

.p-autocomplete-chip-item.p-focus .p-autocomplete-chip {
    background: ${t("autocomplete.chip.focus.background")};
    color: ${t("autocomplete.chip.focus.color")};
}

.p-autocomplete-input-chip {
    flex: 1 1 auto;
    display: inline-flex;
    padding-block-start: calc(${t("autocomplete.padding.y")} / 2);
    padding-block-end: calc(${t("autocomplete.padding.y")} / 2);
}

.p-autocomplete-input-chip input {
    border: 0 none;
    outline: 0 none;
    background: transparent;
    margin: 0;
    padding: 0;
    box-shadow: none;
    border-radius: 0;
    width: 100%;
    font-family: inherit;
    font-feature-settings: inherit;
    font-size: 1rem;
    color: inherit;
}

.p-autocomplete-input-chip input::placeholder {
    color: ${t("autocomplete.placeholder.color")};
}

.p-autocomplete-empty-message {
    padding: ${t("autocomplete.empty.message.padding")};
}

.p-autocomplete-fluid {
    display: flex;
}

.p-autocomplete-fluid:has(.p-autocomplete-dropdown) .p-autocomplete-input {
    width: 1%;
}

.p-autocomplete:has(.p-inputtext-sm) .p-autocomplete-dropdown {
    width: ${t("autocomplete.dropdown.sm.width")};
}

.p-autocomplete:has(.p-inputtext-sm) .p-autocomplete-dropdown .p-icon {
    font-size: ${t("form.field.sm.font.size")};
    width: ${t("form.field.sm.font.size")};
    height: ${t("form.field.sm.font.size")};
}

.p-autocomplete:has(.p-inputtext-lg) .p-autocomplete-dropdown {
    width: ${t("autocomplete.dropdown.lg.width")};
}

.p-autocomplete:has(.p-inputtext-lg) .p-autocomplete-dropdown .p-icon {
    font-size: ${t("form.field.lg.font.size")};
    width: ${t("form.field.lg.font.size")};
    height: ${t("form.field.lg.font.size")};
}

.p-autocomplete-clear-icon {
    position: absolute;
    top: 50%;
    margin-top: -0.5rem;
    cursor: pointer;
    right: ${t("autocomplete.padding.x")};
    color: ${t("autocomplete.dropdown.color")};
}

.p-autocomplete:has(.p-autocomplete-dropdown) .p-autocomplete-clear-icon {
    right: calc(${t("autocomplete.padding.x")} + ${t("autocomplete.dropdown.width")});
}

p-autocomplete.ng-invalid.ng-dirty .p-autocomplete-input,
p-autocomplete.ng-invalid.ng-dirty .p-autocomplete-input-multiple {
    border-color: ${t("autocomplete.invalid.border.color")};
}

p-autocomplete.ng-invalid.ng-dirty .p-autocomplete-input:enabled:focus,
p-autocomplete.ng-invalid.ng-dirty:not(.p-disabled).p-focus .p-autocomplete-input-multiple {
    border-color: ${t("autocomplete.focus.border.color")};
}

p-autocomplete.ng-invalid.ng-dirty .p-autocomplete-input-chip input::placeholder {
    color: ${t("autocomplete.invalid.placeholder.color")};
}

p-autocomplete.ng-invalid.ng-dirty .p-autocomplete-input::placeholder {
    color: ${t("autocomplete.invalid.placeholder.color")};
}`,wo={root:{position:"relative"}},xo={root:({instance:t})=>({"p-autocomplete p-component p-inputwrapper":!0,"p-disabled":t.disabled,"p-focus":t.focused,"p-inputwrapper-filled":t.filled,"p-inputwrapper-focus":t.focused&&!t.disabled||t.autofocus||t.overlayVisible,"p-autocomplete-open":t.overlayVisible,"p-autocomplete-clearable":t.showClear&&!t.disabled,"p-autocomplete-fluid":t.hasFluid()}),pcInput:"p-autocomplete-input",inputMultiple:({instance:t})=>({"p-autocomplete-input-multiple":!0,"p-variant-filled":t.variant?t.variant==="filled":t.config.inputStyle()==="filled"}),chipItem:({instance:t,i:o})=>["p-autocomplete-chip-item",{"p-focus":t.focusedMultipleOptionIndex===o}],pcChip:"p-autocomplete-chip",chipIcon:"p-autocomplete-chip-icon",inputChip:"p-autocomplete-input-chip",loader:"p-autocomplete-loader",dropdown:"p-autocomplete-dropdown",overlay:"p-autocomplete-overlay p-component",list:"p-autocomplete-list",optionGroup:"p-autocomplete-option-group",option:({instance:t,option:o,i:e,getItemOptions:i})=>({"p-autocomplete-option":!0,"p-autocomplete-option-selected":t.isSelected(o),"p-focus":t.focusedOptionIndex===t.getOptionIndex(e,i),"p-disabled":t.isOptionDisabled(o)}),emptyMessage:"p-autocomplete-empty-message"},Tn=(()=>{class t extends Se{name="autocomplete";theme=bo;classes=xo;inlineStyles=wo;static \u0275fac=(()=>{let e;return function(n){return(e||(e=K(t)))(n||t)}})();static \u0275prov=re({token:t,factory:t.\u0275fac})}return t})();var So=["item"],To=["empty"],Io=["header"],Ao=["footer"],Eo=["selecteditem"],Oo=["group"],Po=["loader"],Mo=["removeicon"],Vo=["loadingicon"],ko=["clearicon"],Do=["dropdownicon"],Fo=["container"],zo=["focusInput"],Lo=["multiIn"],No=["multiContainer"],Bo=["ddBtn"],$o=["items"],Ro=["scroller"],Qo=["overlay"],Ho=t=>({"p-autocomplete-chip-item":!0,"p-focus":t}),In=t=>({$implicit:t}),Uo=()=>({class:"p-autocomplete-chip-icon"}),$t=t=>({height:t}),An=(t,o)=>({$implicit:t,options:o}),qo=t=>({options:t}),jo=()=>({}),Go=(t,o)=>({$implicit:t,index:o});function Wo(t,o){if(t&1){let e=S();p(0,"input",19,3),g("input",function(n){u(e);let a=s();return m(a.onInput(n))})("keydown",function(n){u(e);let a=s();return m(a.onKeyDown(n))})("change",function(n){u(e);let a=s();return m(a.onInputChange(n))})("focus",function(n){u(e);let a=s();return m(a.onInputFocus(n))})("blur",function(n){u(e);let a=s();return m(a.onInputBlur(n))})("paste",function(n){u(e);let a=s();return m(a.onInputPaste(n))})("keyup",function(n){u(e);let a=s();return m(a.onInputKeyUp(n))}),d()}if(t&2){let e,i=s();X(i.inputStyleClass),l("pAutoFocus",i.autofocus)("ngClass","p-autocomplete-input")("ngStyle",i.inputStyle)("type",i.type)("variant",i.variant)("autocomplete",i.autocomplete)("required",i.required)("name",i.name)("pSize",i.size)("tabindex",i.disabled?-1:i.tabindex)("readonly",i.readonly)("disabled",i.disabled)("fluid",i.hasFluid()),C("value",i.inputValue())("id",i.inputId)("placeholder",i.placeholder)("maxlength",i.maxlength)("aria-label",i.ariaLabel)("aria-labelledby",i.ariaLabelledBy)("aria-required",i.required)("aria-expanded",(e=i.overlayVisible)!==null&&e!==void 0?e:!1)("aria-controls",i.overlayVisible?i.id+"_list":null)("aria-activedescendant",i.focused?i.focusedOptionId:void 0)}}function Ko(t,o){if(t&1){let e=S();p(0,"TimesIcon",22),g("click",function(){u(e);let n=s(2);return m(n.clear())}),d()}t&2&&(l("styleClass","p-autocomplete-clear-icon"),C("aria-hidden",!0))}function Yo(t,o){}function Zo(t,o){t&1&&h(0,Yo,0,0,"ng-template")}function Jo(t,o){if(t&1){let e=S();p(0,"span",23),g("click",function(){u(e);let n=s(2);return m(n.clear())}),h(1,Zo,1,0,null,24),d()}if(t&2){let e=s(2);C("aria-hidden",!0),c(),l("ngTemplateOutlet",e.clearIconTemplate||e._clearIconTemplate)}}function Xo(t,o){if(t&1&&(q(0),h(1,Ko,1,2,"TimesIcon",20)(2,Jo,2,2,"span",21),j()),t&2){let e=s();c(),l("ngIf",!e.clearIconTemplate&&!e._clearIconTemplate),c(),l("ngIf",e.clearIconTemplate||e._clearIconTemplate)}}function ea(t,o){t&1&&de(0)}function ta(t,o){if(t&1){let e=S();p(0,"span",33),g("click",function(n){u(e);let a=s(3).index,r=s(2);return m(r.readonly?"":r.removeOption(n,a))}),y(1,"TimesCircleIcon",34),d()}t&2&&(c(),l("styleClass","p-autocomplete-chip-icon"),C("aria-hidden",!0))}function ia(t,o){t&1&&(q(0),h(1,ta,2,2,"ng-template",null,6,ee),j())}function na(t,o){if(t&1&&(p(0,"p-chip",32),h(1,ia,3,0,"ng-container",15),d()),t&2){let e=s().$implicit,i=s(2);l("label",i.getOptionLabel(e))("removable",!0),c(),l("ngIf",!i.removeIconTemplate&&!i._removeIconTemplate)}}function oa(t,o){}function aa(t,o){t&1&&h(0,oa,0,0,"ng-template")}function ra(t,o){if(t&1&&(p(0,"span"),h(1,aa,1,0,null,30),d()),t&2){let e=s(3);C("aria-hidden",!0),c(),l("ngTemplateOutlet",e.removeIconTemplate||e._removeIconTemplate)("ngTemplateOutletContext",ae(3,Uo))}}function la(t,o){if(t&1&&(p(0,"li",29,5),h(2,ea,1,0,"ng-container",30)(3,na,2,3,"p-chip",31)(4,ra,2,4,"span",15),d()),t&2){let e=o.$implicit,i=o.index,n=s(2);l("ngClass",A(10,Ho,n.focusedMultipleOptionIndex()===i)),C("id",n.id+"_multiple_option_"+i)("aria-label",n.getOptionLabel(e))("aria-setsize",n.modelValue().length)("aria-posinset",i+1)("aria-selected",!0),c(2),l("ngTemplateOutlet",n.selectedItemTemplate||n._selectedItemTemplate)("ngTemplateOutletContext",A(12,In,e)),c(),l("ngIf",!n.selectedItemTemplate&&!n._selectedItemTemplate),c(),l("ngIf",n.removeIconTemplate||n._removeIconTemplate)}}function sa(t,o){if(t&1){let e=S();p(0,"ul",25,4),g("focus",function(n){u(e);let a=s();return m(a.onMultipleContainerFocus(n))})("blur",function(n){u(e);let a=s();return m(a.onMultipleContainerBlur(n))})("keydown",function(n){u(e);let a=s();return m(a.onMultipleContainerKeyDown(n))}),h(2,la,5,14,"li",26),p(3,"li",27)(4,"input",28,3),g("input",function(n){u(e);let a=s();return m(a.onInput(n))})("keydown",function(n){u(e);let a=s();return m(a.onKeyDown(n))})("change",function(n){u(e);let a=s();return m(a.onInputChange(n))})("focus",function(n){u(e);let a=s();return m(a.onInputFocus(n))})("blur",function(n){u(e);let a=s();return m(a.onInputBlur(n))})("paste",function(n){u(e);let a=s();return m(a.onInputPaste(n))})("keyup",function(n){u(e);let a=s();return m(a.onInputKeyUp(n))}),d()()()}if(t&2){let e,i=s();l("ngClass",i.inputMultipleClass)("tabindex",-1),C("aria-orientation","horizontal")("aria-activedescendant",i.focused?i.focusedMultipleOptionId:void 0),c(2),l("ngForOf",i.modelValue()),c(2),X(i.inputStyleClass),l("pAutoFocus",i.autofocus)("ngClass",i.inputClass)("ngStyle",i.inputStyle)("autocomplete",i.autocomplete)("required",i.required)("tabindex",i.disabled?-1:i.tabindex)("readonly",i.readonly)("disabled",i.disabled),C("type",i.type)("id",i.inputId)("name",i.name)("placeholder",i.filled?null:i.placeholder)("maxlength",i.maxlength)("aria-label",i.ariaLabel)("aria-labelledby",i.ariaLabelledBy)("aria-required",i.required)("aria-expanded",(e=i.overlayVisible)!==null&&e!==void 0?e:!1)("aria-controls",i.overlayVisible?i.id+"_list":null)("aria-activedescendant",i.focused?i.focusedOptionId:void 0)}}function ca(t,o){t&1&&y(0,"SpinnerIcon",37),t&2&&(l("styleClass","p-autocomplete-loader")("spin",!0),C("aria-hidden",!0))}function pa(t,o){}function da(t,o){t&1&&h(0,pa,0,0,"ng-template")}function ua(t,o){if(t&1&&(p(0,"span",38),h(1,da,1,0,null,24),d()),t&2){let e=s(2);C("aria-hidden",!0),c(),l("ngTemplateOutlet",e.loadingIconTemplate||e._loadingIconTemplate)}}function ma(t,o){if(t&1&&(q(0),h(1,ca,1,3,"SpinnerIcon",35)(2,ua,2,2,"span",36),j()),t&2){let e=s();c(),l("ngIf",!e.loadingIconTemplate&&!e._loadingIconTemplate),c(),l("ngIf",e.loadingIconTemplate||e._loadingIconTemplate)}}function ha(t,o){if(t&1&&y(0,"span",41),t&2){let e=s(2);l("ngClass",e.dropdownIcon),C("aria-hidden",!0)}}function ga(t,o){t&1&&y(0,"ChevronDownIcon")}function fa(t,o){}function _a(t,o){t&1&&h(0,fa,0,0,"ng-template")}function va(t,o){if(t&1&&(q(0),h(1,ga,1,0,"ChevronDownIcon",15)(2,_a,1,0,null,24),j()),t&2){let e=s(2);c(),l("ngIf",!e.dropdownIconTemplate&&!e._dropdownIconTemplate),c(),l("ngTemplateOutlet",e.dropdownIconTemplate||e._dropdownIconTemplate)}}function Ca(t,o){if(t&1){let e=S();p(0,"button",39,7),g("click",function(n){u(e);let a=s();return m(a.handleDropdownClick(n))}),h(2,ha,1,2,"span",40)(3,va,3,2,"ng-container",15),d()}if(t&2){let e=s();l("disabled",e.disabled),C("aria-label",e.dropdownAriaLabel)("tabindex",e.tabindex),c(2),l("ngIf",e.dropdownIcon),c(),l("ngIf",!e.dropdownIcon)}}function ya(t,o){t&1&&de(0)}function ba(t,o){t&1&&de(0)}function wa(t,o){if(t&1&&h(0,ba,1,0,"ng-container",30),t&2){let e=o.$implicit,i=o.options;s(2);let n=be(6);l("ngTemplateOutlet",n)("ngTemplateOutletContext",Ct(2,An,e,i))}}function xa(t,o){t&1&&de(0)}function Sa(t,o){if(t&1&&h(0,xa,1,0,"ng-container",30),t&2){let e=o.options,i=s(4);l("ngTemplateOutlet",i.loaderTemplate||i._loaderTemplate)("ngTemplateOutletContext",A(2,qo,e))}}function Ta(t,o){t&1&&(q(0),h(1,Sa,1,4,"ng-template",null,10,ee),j())}function Ia(t,o){if(t&1){let e=S();p(0,"p-scroller",46,9),g("onLazyLoad",function(n){u(e);let a=s(2);return m(a.onLazyLoad.emit(n))}),h(2,wa,1,5,"ng-template",null,2,ee)(4,Ta,3,0,"ng-container",15),d()}if(t&2){let e=s(2);ie(A(8,$t,e.scrollHeight)),l("items",e.visibleOptions())("itemSize",e.virtualScrollItemSize||e._itemSize)("autoSize",!0)("lazy",e.lazy)("options",e.virtualScrollOptions),c(4),l("ngIf",e.loaderTemplate||e._loaderTemplate)}}function Aa(t,o){t&1&&de(0)}function Ea(t,o){if(t&1&&(q(0),h(1,Aa,1,0,"ng-container",30),j()),t&2){s();let e=be(6),i=s();c(),l("ngTemplateOutlet",e)("ngTemplateOutletContext",Ct(3,An,i.visibleOptions(),ae(2,jo)))}}function Oa(t,o){if(t&1&&(p(0,"span"),v(1),d()),t&2){let e=s(2).$implicit,i=s(3);c(),ue(i.getOptionGroupLabel(e.optionGroup))}}function Pa(t,o){t&1&&de(0)}function Ma(t,o){if(t&1&&(q(0),p(1,"li",50),h(2,Oa,2,1,"span",15)(3,Pa,1,0,"ng-container",30),d(),j()),t&2){let e=s(),i=e.$implicit,n=e.index,a=s().options,r=s(2);c(),l("ngStyle",A(5,$t,a.itemSize+"px")),C("id",r.id+"_"+r.getOptionIndex(n,a)),c(),l("ngIf",!r.groupTemplate),c(),l("ngTemplateOutlet",r.groupTemplate)("ngTemplateOutletContext",A(7,In,i.optionGroup))}}function Va(t,o){if(t&1&&(p(0,"span"),v(1),d()),t&2){let e=s(2).$implicit,i=s(3);c(),ue(i.getOptionLabel(e))}}function ka(t,o){t&1&&de(0)}function Da(t,o){if(t&1){let e=S();q(0),p(1,"li",51),g("click",function(n){u(e);let a=s().$implicit,r=s(3);return m(r.onOptionSelect(n,a))})("mouseenter",function(n){u(e);let a=s().index,r=s().options,f=s(2);return m(f.onOptionMouseEnter(n,f.getOptionIndex(a,r)))}),h(2,Va,2,1,"span",15)(3,ka,1,0,"ng-container",30),d(),j()}if(t&2){let e=s(),i=e.$implicit,n=e.index,a=s().options,r=s(2);c(),l("ngStyle",A(12,$t,a.itemSize+"px"))("ngClass",r.optionClass(i,n,a)),C("id",r.id+"_"+r.getOptionIndex(n,a))("aria-label",r.getOptionLabel(i))("aria-selected",r.isSelected(i))("aria-disabled",r.isOptionDisabled(i))("data-p-focused",r.focusedOptionIndex()===r.getOptionIndex(n,a))("aria-setsize",r.ariaSetSize)("aria-posinset",r.getAriaPosInset(r.getOptionIndex(n,a))),c(),l("ngIf",!r.itemTemplate&&!r._itemTemplate),c(),l("ngTemplateOutlet",r.itemTemplate||r._itemTemplate)("ngTemplateOutletContext",Ct(14,Go,i,a.getOptions?a.getOptions(n):n))}}function Fa(t,o){if(t&1&&h(0,Ma,4,9,"ng-container",15)(1,Da,4,17,"ng-container",15),t&2){let e=o.$implicit,i=s(3);l("ngIf",i.isOptionGroup(e)),c(),l("ngIf",!i.isOptionGroup(e))}}function za(t,o){if(t&1&&(q(0),v(1),j()),t&2){let e=s(4);c(),Ce(" ",e.searchResultMessageText," ")}}function La(t,o){t&1&&de(0,null,12)}function Na(t,o){if(t&1&&(p(0,"li",52),h(1,za,2,1,"ng-container",53)(2,La,2,0,"ng-container",24),d()),t&2){let e=s().options,i=s(2);l("ngStyle",A(4,$t,e.itemSize+"px")),c(),l("ngIf",!i.emptyTemplate&&!i._emptyTemplate)("ngIfElse",i.empty),c(),l("ngTemplateOutlet",i.emptyTemplate||i._emptyTemplate)}}function Ba(t,o){if(t&1&&(p(0,"ul",47,11),h(2,Fa,2,2,"ng-template",48)(3,Na,3,6,"li",49),d()),t&2){let e=o.$implicit,i=o.options,n=s(2);ie(i.contentStyle),l("ngClass",i.contentStyleClass),C("id",n.id+"_list")("aria-label",n.listLabel),c(2),l("ngForOf",e),c(),l("ngIf",!e||e&&e.length===0&&n.showEmptyMessage)}}function $a(t,o){t&1&&de(0)}function Ra(t,o){if(t&1&&(p(0,"div",42),h(1,ya,1,0,"ng-container",24),p(2,"div",43),h(3,Ia,5,10,"p-scroller",44)(4,Ea,2,6,"ng-container",15),d(),h(5,Ba,4,7,"ng-template",null,8,ee)(7,$a,1,0,"ng-container",24),d(),p(8,"span",45),v(9),d()),t&2){let e=s();X(e.panelStyleClass),l("ngClass",e.panelClass)("ngStyle",e.panelStyle),c(),l("ngTemplateOutlet",e.headerTemplate||e._headerTemplate),c(),De("max-height",e.virtualScroll?"auto":e.scrollHeight),c(),l("ngIf",e.virtualScroll),c(),l("ngIf",!e.virtualScroll),c(3),l("ngTemplateOutlet",e.footerTemplate||e._footerTemplate),c(2),Ce(" ",e.selectedMessageText," ")}}var Qa={provide:Mi,useExisting:Ie(()=>hi),multi:!0},hi=(()=>{class t extends se{overlayService;zone;minLength=1;delay=300;style;panelStyle;styleClass;panelStyleClass;inputStyle;inputId;inputStyleClass;placeholder;readonly;disabled;scrollHeight="200px";lazy=!1;virtualScroll;virtualScrollItemSize;virtualScrollOptions;maxlength;name;required;size;appendTo;autoHighlight;forceSelection;type="text";autoZIndex=!0;baseZIndex=0;ariaLabel;dropdownAriaLabel;ariaLabelledBy;dropdownIcon;unique=!0;group;completeOnFocus=!1;showClear=!1;field;dropdown;showEmptyMessage=!0;dropdownMode="blank";multiple;tabindex;dataKey;emptyMessage;showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)";hideTransitionOptions=".1s linear";autofocus;autocomplete="off";optionGroupChildren="items";optionGroupLabel="label";overlayOptions;get suggestions(){return this._suggestions()}set suggestions(e){this._suggestions.set(e),this.handleSuggestionsChange()}get itemSize(){return this._itemSize}set itemSize(e){this._itemSize=e,console.log("The itemSize property is deprecated, use virtualScrollItemSize property instead.")}optionLabel;optionValue;id;searchMessage;emptySelectionMessage;selectionMessage;autoOptionFocus=!1;selectOnFocus;searchLocale;optionDisabled;focusOnHover=!0;typeahead=!0;variant="outlined";fluid=!1;completeMethod=new x;onSelect=new x;onUnselect=new x;onFocus=new x;onBlur=new x;onDropdownClick=new x;onClear=new x;onKeyUp=new x;onShow=new x;onHide=new x;onLazyLoad=new x;containerEL;inputEL;multiInputEl;multiContainerEL;dropdownButton;itemsViewChild;scroller;overlayViewChild;_itemSize;itemsWrapper;itemTemplate;emptyTemplate;headerTemplate;footerTemplate;selectedItemTemplate;groupTemplate;loaderTemplate;removeIconTemplate;loadingIconTemplate;clearIconTemplate;dropdownIconTemplate;primeng=W(Qi);value;_suggestions=Qe(null);onModelChange=()=>{};onModelTouched=()=>{};timeout;overlayVisible;suggestionsUpdated;highlightOption;highlightOptionChanged;focused=!1;_filled;get filled(){return this._filled}set filled(e){this._filled=e}loading;scrollHandler;listId;searchTimeout;dirty=!1;_itemTemplate;_groupTemplate;_selectedItemTemplate;_headerTemplate;_emptyTemplate;_footerTemplate;_loaderTemplate;_removeIconTemplate;_loadingIconTemplate;_clearIconTemplate;_dropdownIconTemplate;modelValue=Qe(null);focusedMultipleOptionIndex=Qe(-1);focusedOptionIndex=Qe(-1);_componentStyle=W(Tn);visibleOptions=me(()=>this.group?this.flatOptions(this._suggestions()):this._suggestions()||[]);inputValue=me(()=>{let e=this.modelValue(),i=this.optionValueSelected?(this.suggestions||[]).find(n=>qe(n,this.optionValue)===e):e;if(We(e))if(typeof e=="object"||this.optionValueSelected){let n=this.getOptionLabel(i);return n??e}else return e;else return""});get focusedMultipleOptionId(){return this.focusedMultipleOptionIndex()!==-1?`${this.id}_multiple_option_${this.focusedMultipleOptionIndex()}`:null}get focusedOptionId(){return this.focusedOptionIndex()!==-1?`${this.id}_${this.focusedOptionIndex()}`:null}get rootClass(){return this._componentStyle.classes.root({instance:this})}get inputMultipleClass(){return this._componentStyle.classes.inputMultiple({instance:this})}get panelClass(){return{"p-autocomplete-overlay p-component":!0,"p-input-filled":this.config.inputStyle()==="filled"||this.config.inputVariant()==="filled","p-ripple-disabled":this.config.ripple()===!1}}get inputClass(){return{"p-autocomplete-input":!this.multiple,"p-autocomplete-dd-input":this.dropdown}}get searchResultMessageText(){return We(this.visibleOptions())&&this.overlayVisible?this.searchMessageText.replaceAll("{0}",this.visibleOptions().length):this.emptySearchMessageText}get searchMessageText(){return this.searchMessage||this.config.translation.searchMessage||""}get emptySearchMessageText(){return this.emptyMessage||this.config.translation.emptySearchMessage||""}get selectionMessageText(){return this.selectionMessage||this.config.translation.selectionMessage||""}get emptySelectionMessageText(){return this.emptySelectionMessage||this.config.translation.emptySelectionMessage||""}get selectedMessageText(){return this.hasSelectedOption()?this.selectionMessageText.replaceAll("{0}",this.multiple?this.modelValue().length:"1"):this.emptySelectionMessageText}get ariaSetSize(){return this.visibleOptions().filter(e=>!this.isOptionGroup(e)).length}get listLabel(){return this.config.getTranslation(St.ARIA).listLabel}get virtualScrollerDisabled(){return!this.virtualScroll}get optionValueSelected(){return typeof this.modelValue()=="string"&&this.optionValue}chipItemClass(e){return this._componentStyle.classes.chipItem({instance:this,i:e})}optionClass(e,i,n){return{"p-autocomplete-option":!0,"p-autocomplete-option-selected":this.isSelected(e),"p-focus":this.focusedOptionIndex()===this.getOptionIndex(i,n),"p-disabled":this.isOptionDisabled(e)}}constructor(e,i){super(),this.overlayService=e,this.zone=i,Ai(()=>{this.filled=We(this.modelValue())})}ngOnInit(){super.ngOnInit(),this.id=this.id||ct("pn_id_"),this.cd.detectChanges()}templates;ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"item":this._itemTemplate=e.template;break;case"group":this._groupTemplate=e.template;break;case"selecteditem":this._selectedItemTemplate=e.template;break;case"selectedItem":this._selectedItemTemplate=e.template;break;case"header":this._headerTemplate=e.template;break;case"empty":this._emptyTemplate=e.template;break;case"footer":this._footerTemplate=e.template;break;case"loader":this._loaderTemplate=e.template;break;case"removetokenicon":this._removeIconTemplate=e.template;break;case"loadingicon":this._loadingIconTemplate=e.template;break;case"clearicon":this._clearIconTemplate=e.template;break;case"dropdownicon":this._dropdownIconTemplate=e.template;break;default:this._itemTemplate=e.template;break}})}ngAfterViewChecked(){this.suggestionsUpdated&&this.overlayViewChild&&this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.overlayViewChild&&this.overlayViewChild.alignOverlay()},1),this.suggestionsUpdated=!1})}handleSuggestionsChange(){if(this.loading){this._suggestions()?.length>0?this.show():this.emptyTemplate?this.show():this.hide();let e=this.overlayVisible&&this.autoOptionFocus?this.findFirstFocusedOptionIndex():-1;this.focusedOptionIndex.set(e),this.suggestionsUpdated=!0,this.loading=!1,this.cd.markForCheck()}}flatOptions(e){return(e||[]).reduce((i,n,a)=>{i.push({optionGroup:n,group:!0,index:a});let r=this.getOptionGroupChildren(n);return r&&r.forEach(f=>i.push(f)),i},[])}isOptionGroup(e){return this.optionGroupLabel&&e.optionGroup&&e.group}findFirstOptionIndex(){return this.visibleOptions().findIndex(e=>this.isValidOption(e))}findLastOptionIndex(){return ai(this.visibleOptions(),e=>this.isValidOption(e))}findFirstFocusedOptionIndex(){let e=this.findSelectedOptionIndex();return e<0?this.findFirstOptionIndex():e}findLastFocusedOptionIndex(){let e=this.findSelectedOptionIndex();return e<0?this.findLastOptionIndex():e}findSelectedOptionIndex(){return this.hasSelectedOption()?this.visibleOptions().findIndex(e=>this.isValidSelectedOption(e)):-1}findNextOptionIndex(e){let i=e<this.visibleOptions().length-1?this.visibleOptions().slice(e+1).findIndex(n=>this.isValidOption(n)):-1;return i>-1?i+e+1:e}findPrevOptionIndex(e){let i=e>0?ai(this.visibleOptions().slice(0,e),n=>this.isValidOption(n)):-1;return i>-1?i:e}isValidSelectedOption(e){return this.isValidOption(e)&&this.isSelected(e)}isValidOption(e){return e&&!(this.isOptionDisabled(e)||this.isOptionGroup(e))}isOptionDisabled(e){return this.optionDisabled?qe(e,this.optionDisabled):!1}isSelected(e){return this.multiple?this.unique?this.modelValue()?.find(i=>oi(i,this.getOptionValue(e),this.equalityKey())):!1:oi(this.modelValue(),this.getOptionValue(e),this.equalityKey())}isOptionMatched(e,i){return this.isValidOption(e)&&this.getOptionLabel(e).toLocaleLowerCase(this.searchLocale)===i.toLocaleLowerCase(this.searchLocale)}isInputClicked(e){return e.target===this.inputEL.nativeElement}isDropdownClicked(e){return this.dropdownButton?.nativeElement?e.target===this.dropdownButton.nativeElement||this.dropdownButton.nativeElement.contains(e.target):!1}equalityKey(){return this.dataKey}onContainerClick(e){this.disabled||this.loading||this.isInputClicked(e)||this.isDropdownClicked(e)||(!this.overlayViewChild||!this.overlayViewChild.overlayViewChild?.nativeElement.contains(e.target))&&he(this.inputEL.nativeElement)}handleDropdownClick(e){let i;this.overlayVisible?this.hide(!0):(he(this.inputEL.nativeElement),i=this.inputEL.nativeElement.value,this.dropdownMode==="blank"?this.search(e,"","dropdown"):this.dropdownMode==="current"&&this.search(e,i,"dropdown")),this.onDropdownClick.emit({originalEvent:e,query:i})}onInput(e){if(this.typeahead){this.searchTimeout&&clearTimeout(this.searchTimeout);let i=e.target.value;this.maxlength!==null&&(i=i.split("").slice(0,this.maxlength).join("")),!this.multiple&&!this.forceSelection&&this.updateModel(i),i.length===0&&!this.multiple?(this.onClear.emit(),setTimeout(()=>{this.hide()},this.delay/2)):i.length>=this.minLength?(this.focusedOptionIndex.set(-1),this.searchTimeout=setTimeout(()=>{this.search(e,i,"input")},this.delay)):this.hide()}}onInputChange(e){if(this.forceSelection){let i=!1;if(this.visibleOptions()){let n=this.visibleOptions().find(a=>this.isOptionMatched(a,this.inputEL.nativeElement.value||""));n!==void 0&&(i=!0,!this.isSelected(n)&&this.onOptionSelect(e,n))}i||(this.inputEL.nativeElement.value="",!this.multiple&&this.updateModel(null))}}onInputFocus(e){if(this.disabled)return;!this.dirty&&this.completeOnFocus&&this.search(e,e.target.value,"focus"),this.dirty=!0,this.focused=!0;let i=this.focusedOptionIndex()!==-1?this.focusedOptionIndex():this.overlayVisible&&this.autoOptionFocus?this.findFirstFocusedOptionIndex():-1;this.focusedOptionIndex.set(i),this.overlayVisible&&this.scrollInView(this.focusedOptionIndex()),this.onFocus.emit(e)}onMultipleContainerFocus(e){this.disabled||(this.focused=!0)}onMultipleContainerBlur(e){this.focusedMultipleOptionIndex.set(-1),this.focused=!1}onMultipleContainerKeyDown(e){if(this.disabled){e.preventDefault();return}switch(e.code){case"ArrowLeft":this.onArrowLeftKeyOnMultiple(e);break;case"ArrowRight":this.onArrowRightKeyOnMultiple(e);break;case"Backspace":this.onBackspaceKeyOnMultiple(e);break;default:break}}onInputBlur(e){this.dirty=!1,this.focused=!1,this.focusedOptionIndex.set(-1),this.onModelTouched(),this.onBlur.emit(e)}onInputPaste(e){this.onKeyDown(e)}onInputKeyUp(e){this.onKeyUp.emit(e)}onKeyDown(e){if(this.disabled){e.preventDefault();return}switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e);break;case"ArrowLeft":this.onArrowLeftKey(e);break;case"ArrowRight":this.onArrowRightKey(e);break;case"Home":this.onHomeKey(e);break;case"End":this.onEndKey(e);break;case"PageDown":this.onPageDownKey(e);break;case"PageUp":this.onPageUpKey(e);break;case"Enter":case"NumpadEnter":this.onEnterKey(e);break;case"Escape":this.onEscapeKey(e);break;case"Tab":this.onTabKey(e);break;case"Backspace":this.onBackspaceKey(e);break;case"ShiftLeft":case"ShiftRight":break;default:break}}onArrowDownKey(e){if(!this.overlayVisible)return;let i=this.focusedOptionIndex()!==-1?this.findNextOptionIndex(this.focusedOptionIndex()):this.findFirstFocusedOptionIndex();this.changeFocusedOptionIndex(e,i),e.preventDefault(),e.stopPropagation()}onArrowUpKey(e){if(this.overlayVisible)if(e.altKey)this.focusedOptionIndex()!==-1&&this.onOptionSelect(e,this.visibleOptions()[this.focusedOptionIndex()]),this.overlayVisible&&this.hide(),e.preventDefault();else{let i=this.focusedOptionIndex()!==-1?this.findPrevOptionIndex(this.focusedOptionIndex()):this.findLastFocusedOptionIndex();this.changeFocusedOptionIndex(e,i),e.preventDefault(),e.stopPropagation()}}hasFluid(){let i=this.el.nativeElement.closest("p-fluid");return this.fluid||!!i}onArrowLeftKey(e){let i=e.currentTarget;this.focusedOptionIndex.set(-1),this.multiple&&(Bi(i.value)&&this.hasSelectedOption()?(he(this.multiContainerEL.nativeElement),this.focusedMultipleOptionIndex.set(this.modelValue().length)):e.stopPropagation())}onArrowRightKey(e){this.focusedOptionIndex.set(-1),this.multiple&&e.stopPropagation()}onHomeKey(e){let{currentTarget:i}=e,n=i.value.length;i.setSelectionRange(0,e.shiftKey?n:0),this.focusedOptionIndex.set(-1),e.preventDefault()}onEndKey(e){let{currentTarget:i}=e,n=i.value.length;i.setSelectionRange(e.shiftKey?0:n,n),this.focusedOptionIndex.set(-1),e.preventDefault()}onPageDownKey(e){this.scrollInView(this.visibleOptions().length-1),e.preventDefault()}onPageUpKey(e){this.scrollInView(0),e.preventDefault()}onEnterKey(e){this.typeahead||this.multiple&&(this.updateModel([...this.modelValue()||[],e.target.value]),this.inputEL.nativeElement.value=""),this.overlayVisible?(this.focusedOptionIndex()!==-1&&this.onOptionSelect(e,this.visibleOptions()[this.focusedOptionIndex()]),this.hide()):this.onArrowDownKey(e),e.preventDefault()}onEscapeKey(e){this.overlayVisible&&this.hide(!0),e.preventDefault()}onTabKey(e){this.focusedOptionIndex()!==-1&&this.onOptionSelect(e,this.visibleOptions()[this.focusedOptionIndex()]),this.overlayVisible&&this.hide()}onBackspaceKey(e){if(this.multiple){if(We(this.modelValue())&&!this.inputEL.nativeElement.value){let i=this.modelValue()[this.modelValue().length-1],n=this.modelValue().slice(0,-1);this.updateModel(n),this.onUnselect.emit({originalEvent:e,value:i})}e.stopPropagation()}!this.multiple&&this.showClear&&this.findSelectedOptionIndex()!=-1&&this.clear()}onArrowLeftKeyOnMultiple(e){let i=this.focusedMultipleOptionIndex()<1?0:this.focusedMultipleOptionIndex()-1;this.focusedMultipleOptionIndex.set(i)}onArrowRightKeyOnMultiple(e){let i=this.focusedMultipleOptionIndex();i++,this.focusedMultipleOptionIndex.set(i),i>this.modelValue().length-1&&(this.focusedMultipleOptionIndex.set(-1),he(this.inputEL.nativeElement))}onBackspaceKeyOnMultiple(e){this.focusedMultipleOptionIndex()!==-1&&this.removeOption(e,this.focusedMultipleOptionIndex())}onOptionSelect(e,i,n=!0){let a=this.getOptionValue(i);this.multiple?(this.inputEL.nativeElement.value="",this.isSelected(i)||this.updateModel([...this.modelValue()||[],a])):this.updateModel(a),this.onSelect.emit({originalEvent:e,value:i}),n&&this.hide(!0)}onOptionMouseEnter(e,i){this.focusOnHover&&this.changeFocusedOptionIndex(e,i)}search(e,i,n){i!=null&&(n==="input"&&i.trim().length===0||(this.loading=!0,this.completeMethod.emit({originalEvent:e,query:i})))}removeOption(e,i){e.stopPropagation();let n=this.modelValue()[i],a=this.modelValue().filter((r,f)=>f!==i).map(r=>this.getOptionValue(r));this.updateModel(a),this.onUnselect.emit({originalEvent:e,value:n}),he(this.inputEL.nativeElement)}updateModel(e){this.value=e,this.modelValue.set(e),this.onModelChange(e),this.updateInputValue(),this.cd.markForCheck()}updateInputValue(){this.inputEL&&this.inputEL.nativeElement&&(this.multiple?this.inputEL.nativeElement.value="":this.inputEL.nativeElement.value=this.inputValue())}autoUpdateModel(){if((this.selectOnFocus||this.autoHighlight)&&this.autoOptionFocus&&!this.hasSelectedOption()){let e=this.findFirstFocusedOptionIndex();this.focusedOptionIndex.set(e),this.onOptionSelect(null,this.visibleOptions()[this.focusedOptionIndex()],!1)}}scrollInView(e=-1){let i=e!==-1?`${this.id}_${e}`:this.focusedOptionId;if(this.itemsViewChild&&this.itemsViewChild.nativeElement){let n=xe(this.itemsViewChild.nativeElement,`li[id="${i}"]`);n?n.scrollIntoView&&n.scrollIntoView({block:"nearest",inline:"nearest"}):this.virtualScrollerDisabled||setTimeout(()=>{this.virtualScroll&&this.scroller?.scrollToIndex(e!==-1?e:this.focusedOptionIndex())},0)}}changeFocusedOptionIndex(e,i){this.focusedOptionIndex()!==i&&(this.focusedOptionIndex.set(i),this.scrollInView(),this.selectOnFocus&&this.onOptionSelect(e,this.visibleOptions()[i],!1))}show(e=!1){this.dirty=!0,this.overlayVisible=!0;let i=this.focusedOptionIndex()!==-1?this.focusedOptionIndex():this.autoOptionFocus?this.findFirstFocusedOptionIndex():-1;this.focusedOptionIndex.set(i),e&&he(this.inputEL.nativeElement),e&&he(this.inputEL.nativeElement),this.onShow.emit(),this.cd.markForCheck()}hide(e=!1){let i=()=>{this.dirty=e,this.overlayVisible=!1,this.focusedOptionIndex.set(-1),e&&he(this.inputEL.nativeElement),this.onHide.emit(),this.cd.markForCheck()};setTimeout(()=>{i()},0)}clear(){this.updateModel(null),this.inputEL.nativeElement.value="",this.onClear.emit()}writeValue(e){this.value=e,this.modelValue.set(e),this.updateInputValue(),this.cd.markForCheck()}hasSelectedOption(){return We(this.modelValue())}getAriaPosInset(e){return(this.optionGroupLabel?e-this.visibleOptions().slice(0,e).filter(i=>this.isOptionGroup(i)).length:e)+1}getOptionLabel(e){return this.field||this.optionLabel?qe(e,this.field||this.optionLabel):e&&e.label!=null?e.label:e}getOptionValue(e){return this.optionValue?qe(e,this.optionValue):e&&e.value!=null?e.value:e}getOptionIndex(e,i){return this.virtualScrollerDisabled?e:i&&i.getItemOptions(e).index}getOptionGroupLabel(e){return this.optionGroupLabel?qe(e,this.optionGroupLabel):e&&e.label!=null?e.label:e}getOptionGroupChildren(e){return this.optionGroupChildren?qe(e,this.optionGroupChildren):e.items}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}onOverlayAnimationStart(e){if(e.toState==="visible"&&(this.itemsWrapper=xe(this.overlayViewChild.overlayViewChild?.nativeElement,this.virtualScroll?".p-scroller":".p-autocomplete-panel"),this.virtualScroll&&(this.scroller?.setContentEl(this.itemsViewChild?.nativeElement),this.scroller.viewInit()),this.visibleOptions()&&this.visibleOptions().length))if(this.virtualScroll){let i=this.modelValue()?this.focusedOptionIndex():-1;i!==-1&&this.scroller?.scrollToIndex(i)}else{let i=xe(this.itemsWrapper,".p-autocomplete-item.p-highlight");i&&i.scrollIntoView({block:"nearest",inline:"center"})}}ngOnDestroy(){this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),super.ngOnDestroy()}static \u0275fac=function(i){return new(i||t)(J($i),J(yi))};static \u0275cmp=O({type:t,selectors:[["p-autoComplete"],["p-autocomplete"],["p-auto-complete"]],contentQueries:function(i,n,a){if(i&1&&(L(a,So,5),L(a,To,5),L(a,Io,5),L(a,Ao,5),L(a,Eo,5),L(a,Oo,5),L(a,Po,5),L(a,Mo,5),L(a,Vo,5),L(a,ko,5),L(a,Do,5),L(a,Ne,4)),i&2){let r;b(r=w())&&(n.itemTemplate=r.first),b(r=w())&&(n.emptyTemplate=r.first),b(r=w())&&(n.headerTemplate=r.first),b(r=w())&&(n.footerTemplate=r.first),b(r=w())&&(n.selectedItemTemplate=r.first),b(r=w())&&(n.groupTemplate=r.first),b(r=w())&&(n.loaderTemplate=r.first),b(r=w())&&(n.removeIconTemplate=r.first),b(r=w())&&(n.loadingIconTemplate=r.first),b(r=w())&&(n.clearIconTemplate=r.first),b(r=w())&&(n.dropdownIconTemplate=r.first),b(r=w())&&(n.templates=r)}},viewQuery:function(i,n){if(i&1&&(G(Fo,5),G(zo,5),G(Lo,5),G(No,5),G(Bo,5),G($o,5),G(Ro,5),G(Qo,5)),i&2){let a;b(a=w())&&(n.containerEL=a.first),b(a=w())&&(n.inputEL=a.first),b(a=w())&&(n.multiInputEl=a.first),b(a=w())&&(n.multiContainerEL=a.first),b(a=w())&&(n.dropdownButton=a.first),b(a=w())&&(n.itemsViewChild=a.first),b(a=w())&&(n.scroller=a.first),b(a=w())&&(n.overlayViewChild=a.first)}},inputs:{minLength:[2,"minLength","minLength",Ee],delay:[2,"delay","delay",Ee],style:"style",panelStyle:"panelStyle",styleClass:"styleClass",panelStyleClass:"panelStyleClass",inputStyle:"inputStyle",inputId:"inputId",inputStyleClass:"inputStyleClass",placeholder:"placeholder",readonly:[2,"readonly","readonly",P],disabled:[2,"disabled","disabled",P],scrollHeight:"scrollHeight",lazy:[2,"lazy","lazy",P],virtualScroll:[2,"virtualScroll","virtualScroll",P],virtualScrollItemSize:[2,"virtualScrollItemSize","virtualScrollItemSize",Ee],virtualScrollOptions:"virtualScrollOptions",maxlength:[2,"maxlength","maxlength",e=>Ee(e,null)],name:"name",required:[2,"required","required",P],size:"size",appendTo:"appendTo",autoHighlight:[2,"autoHighlight","autoHighlight",P],forceSelection:[2,"forceSelection","forceSelection",P],type:"type",autoZIndex:[2,"autoZIndex","autoZIndex",P],baseZIndex:[2,"baseZIndex","baseZIndex",Ee],ariaLabel:"ariaLabel",dropdownAriaLabel:"dropdownAriaLabel",ariaLabelledBy:"ariaLabelledBy",dropdownIcon:"dropdownIcon",unique:[2,"unique","unique",P],group:[2,"group","group",P],completeOnFocus:[2,"completeOnFocus","completeOnFocus",P],showClear:[2,"showClear","showClear",P],field:"field",dropdown:[2,"dropdown","dropdown",P],showEmptyMessage:[2,"showEmptyMessage","showEmptyMessage",P],dropdownMode:"dropdownMode",multiple:[2,"multiple","multiple",P],tabindex:[2,"tabindex","tabindex",Ee],dataKey:"dataKey",emptyMessage:"emptyMessage",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",autofocus:[2,"autofocus","autofocus",P],autocomplete:"autocomplete",optionGroupChildren:"optionGroupChildren",optionGroupLabel:"optionGroupLabel",overlayOptions:"overlayOptions",suggestions:"suggestions",itemSize:"itemSize",optionLabel:"optionLabel",optionValue:"optionValue",id:"id",searchMessage:"searchMessage",emptySelectionMessage:"emptySelectionMessage",selectionMessage:"selectionMessage",autoOptionFocus:[2,"autoOptionFocus","autoOptionFocus",P],selectOnFocus:[2,"selectOnFocus","selectOnFocus",P],searchLocale:[2,"searchLocale","searchLocale",P],optionDisabled:"optionDisabled",focusOnHover:[2,"focusOnHover","focusOnHover",P],typeahead:[2,"typeahead","typeahead",P],variant:"variant",fluid:[2,"fluid","fluid",P]},outputs:{completeMethod:"completeMethod",onSelect:"onSelect",onUnselect:"onUnselect",onFocus:"onFocus",onBlur:"onBlur",onDropdownClick:"onDropdownClick",onClear:"onClear",onKeyUp:"onKeyUp",onShow:"onShow",onHide:"onHide",onLazyLoad:"onLazyLoad"},standalone:!0,features:[oe([Qa,Tn]),je,le,V],decls:11,vars:15,consts:[["container",""],["overlay",""],["content",""],["focusInput",""],["multiContainer",""],["token",""],["removeicon",""],["ddBtn",""],["buildInItems",""],["scroller",""],["loader",""],["items",""],["empty",""],[2,"position","relative",3,"click","ngClass","ngStyle"],["pInputText","","aria-autocomplete","list","role","combobox",3,"pAutoFocus","ngClass","ngStyle","class","type","variant","autocomplete","required","name","pSize","tabindex","readonly","disabled","fluid","input","keydown","change","focus","blur","paste","keyup",4,"ngIf"],[4,"ngIf"],["role","listbox",3,"ngClass","tabindex","focus","blur","keydown",4,"ngIf"],["type","button","class","p-autocomplete-dropdown","pRipple","",3,"disabled","click",4,"ngIf"],[3,"visibleChange","onAnimationStart","onHide","visible","options","target","appendTo","showTransitionOptions","hideTransitionOptions"],["pInputText","","aria-autocomplete","list","role","combobox",3,"input","keydown","change","focus","blur","paste","keyup","pAutoFocus","ngClass","ngStyle","type","variant","autocomplete","required","name","pSize","tabindex","readonly","disabled","fluid"],[3,"styleClass","click",4,"ngIf"],["class","p-autocomplete-clear-icon",3,"click",4,"ngIf"],[3,"click","styleClass"],[1,"p-autocomplete-clear-icon",3,"click"],[4,"ngTemplateOutlet"],["role","listbox",3,"focus","blur","keydown","ngClass","tabindex"],["role","option",3,"ngClass",4,"ngFor","ngForOf"],["role","option",1,"p-autocomplete-input-chip"],["role","combobox","aria-autocomplete","list",3,"input","keydown","change","focus","blur","paste","keyup","pAutoFocus","ngClass","ngStyle","autocomplete","required","tabindex","readonly","disabled"],["role","option",3,"ngClass"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["styleClass","p-autocomplete-chip",3,"label","removable",4,"ngIf"],["styleClass","p-autocomplete-chip",3,"label","removable"],[1,"p-autocomplete-chip-icon",3,"click"],[3,"styleClass"],[3,"styleClass","spin",4,"ngIf"],["class","p-autocomplete-loader pi-spin ",4,"ngIf"],[3,"styleClass","spin"],[1,"p-autocomplete-loader","pi-spin"],["type","button","pRipple","",1,"p-autocomplete-dropdown",3,"click","disabled"],[3,"ngClass",4,"ngIf"],[3,"ngClass"],[3,"ngClass","ngStyle"],[1,"p-autocomplete-list-container"],[3,"items","style","itemSize","autoSize","lazy","options","onLazyLoad",4,"ngIf"],["role","status","aria-live","polite",1,"p-hidden-accessible"],[3,"onLazyLoad","items","itemSize","autoSize","lazy","options"],["role","listbox",1,"p-autocomplete-list",3,"ngClass"],["ngFor","",3,"ngForOf"],["class","p-autocomplete-empty-message","role","option",3,"ngStyle",4,"ngIf"],["role","option",1,"p-autocomplete-option-group",3,"ngStyle"],["pRipple","","role","option",3,"click","mouseenter","ngStyle","ngClass"],["role","option",1,"p-autocomplete-empty-message",3,"ngStyle"],[4,"ngIf","ngIfElse"]],template:function(i,n){if(i&1){let a=S();p(0,"div",13,0),g("click",function(f){return u(a),m(n.onContainerClick(f))}),h(2,Wo,2,25,"input",14)(3,Xo,3,2,"ng-container",15)(4,sa,6,26,"ul",16)(5,ma,3,2,"ng-container",15)(6,Ca,4,5,"button",17),p(7,"p-overlay",18,1),R("visibleChange",function(f){return u(a),$(n.overlayVisible,f)||(n.overlayVisible=f),m(f)}),g("onAnimationStart",function(f){return u(a),m(n.onOverlayAnimationStart(f))})("onHide",function(){return u(a),m(n.hide())}),h(9,Ra,10,11,"ng-template",null,2,ee),d()()}i&2&&(X(n.styleClass),l("ngClass",n.rootClass)("ngStyle",n.style),c(2),l("ngIf",!n.multiple),c(),l("ngIf",n.filled&&!n.disabled&&n.showClear&&!n.loading),c(),l("ngIf",n.multiple),c(),l("ngIf",n.loading),c(),l("ngIf",n.dropdown),c(),B("visible",n.overlayVisible),l("options",n.overlayOptions)("target","@parent")("appendTo",n.appendTo)("showTransitionOptions",n.showTransitionOptions)("hideTransitionOptions",n.hideTransitionOptions))},dependencies:[k,te,yt,He,Ue,Ge,on,Pt,It,an,Hi,Tt,Ui,qi,pt,Sn,ge],encapsulation:2,changeDetection:0})}return t})();var En=()=>({width:"100%"});function Ha(t,o){if(t&1&&(p(0,"div",4)(1,"div",5)(2,"div",6)(3,"div",7)(4,"p",8),v(5),d(),p(6,"p",9),v(7),d()(),p(8,"div",10)(9,"span",11),v(10),it(11,"currency"),d(),p(12,"span",12),v(13),d()()()()()),t&2){let e=o.$implicit;c(5),ue(e.description),c(2),Ce("C\xF3digo: ",e.code,""),c(3),ue(nt(11,4,e.unitPrice,"S/ ")),c(3),Ce("Stock: ",e.stock,"")}}function Ua(t,o){t&1&&(p(0,"div",13),v(1,"No se encontraron resultados."),d())}function qa(t,o){if(t&1&&(p(0,"div",14),v(1),d()),t&2){let e=s(2);c(),Ce(" ",e.filteredProducts.length," productos encontrados ")}}function ja(t,o){if(t&1&&h(0,qa,2,1,"div",14),t&2){let e=s();Y(e.filteredProducts.length>0?0:-1)}}var Rt=class t{checkedPrecioMenor=!1;selectedProduct={};filteredProducts=[];products=[];onSelectedProduct=new x;constructor(){}ngOnInit(){}getIndexOfQuery(o,e){return o.toLowerCase().indexOf(e.toLowerCase())}filterProducts(o){let e=[],i=o.query.toLowerCase(),n=0;for(let a=0;a<this.products.length;a++){let r=this.products[a];if((r.description.toLowerCase().indexOf(i)!==-1||r.code.toLowerCase().indexOf(i)!==-1)&&(e.push(r),n++,n>=10))break}this.filteredProducts=e}onSelectProduct(o){this.onSelectedProduct.emit(o.value),this.selectedProduct=null}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=O({type:t,selectors:[["shared-search-bar"]],inputs:{checkedPrecioMenor:"checkedPrecioMenor",products:"products"},outputs:{onSelectedProduct:"onSelectedProduct"},standalone:!0,features:[V],decls:7,vars:9,consts:[["item",""],["empty",""],["footer",""],["optionLabel","description","dataKey","code","size","small","id","search","autocomplete","off","placeholder","Buscar productos por nombre o c\xF3digo",3,"ngModelChange","completeMethod","onSelect","ngModel","suggestions","virtualScrollItemSize","inputStyle","virtualScroll"],[1,"flex","w-full","items-center","justify-between"],[1,"flex","gap-4","w-full"],[1,"grid","grid-cols-12","w-full"],[1,"col-span-8"],[1,"text-wrap","line-clamp-3","leading-[1.2]","font-semibold"],[1,"text-sm","pt-2"],[1,"col-span-4","flex","flex-col","items-end"],[1,"font-bold"],[1,"font-semibold"],[1,"font-medium","px-3","py-2","text-sm"],[1,"px-3","py-3","text-sm","border-t-[1px]","border-zinc-300"]],template:function(e,i){if(e&1){let n=S();p(0,"p-autocomplete",3),R("ngModelChange",function(r){return u(n),$(i.selectedProduct,r)||(i.selectedProduct=r),m(r)}),g("completeMethod",function(r){return u(n),m(i.filterProducts(r))})("onSelect",function(r){return u(n),m(i.onSelectProduct(r))}),h(1,Ha,14,7,"ng-template",null,0,ee)(3,Ua,2,0,"ng-template",null,1,ee)(5,ja,1,1,"ng-template",null,2,ee),d()}e&2&&(ie(ae(7,En)),B("ngModel",i.selectedProduct),l("suggestions",i.filteredProducts)("virtualScrollItemSize",75)("inputStyle",ae(8,En))("virtualScroll",!0))},dependencies:[k,bt,we,Fe,ze,hi,nn,tn]})};var Wa=["hiddenInputBarcode"],Qt=class t{buttonLabel="Escanear";isScanning=!1;products=[];hiddenInputBarcode;onProductScanned=new x;typingTimer;doneTypingInterval=50;constructor(){}onInputChange(o){clearTimeout(this.typingTimer);let i=o.target.value;console.log("Input changed:",i),this.typingTimer=setTimeout(()=>{this.doneTyping(i)},this.doneTypingInterval)}doneTyping(o){console.log("Done typing:",o),this.searchScannedProduct(o),this.hiddenInputBarcode.nativeElement.value="",this.hiddenInputBarcode.nativeElement.focus()}scanProduct(){if(console.log("scan"),!this.isScanning){console.log("scan false"),this.isScanning=!0,this.hiddenInputBarcode.nativeElement.focus(),this.buttonLabel="Detener escaner";return}console.log("scan true"),this.buttonLabel="Escanear",this.isScanning=!1,this.hiddenInputBarcode.nativeElement.blur()}onBlurHiddeninput(){this.isScanning&&this.hiddenInputBarcode.nativeElement.focus()}searchScannedProduct(o){this.onProductScanned.emit(this.getProductByCode(o)),console.log({value:o})}getProductByCode(o){let e=this.products.findIndex(i=>i.code.toLowerCase()===o.toLowerCase());return e===-1?null:this.products[e]}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=O({type:t,selectors:[["scanner-usb"]],viewQuery:function(e,i){if(e&1&&G(Wa,5),e&2){let n;b(n=w())&&(i.hiddenInputBarcode=n.first)}},inputs:{products:"products"},outputs:{onProductScanned:"onProductScanned"},standalone:!0,features:[V],decls:3,vars:1,consts:[["hiddenInputBarcode",""],["type","text","name","hidden-input-barcode","id","hidden-input-barcode","autocomplete","off",2,"position","absolute","left","-9999px",3,"input","blur"],["icon","pi pi-barcode","styleClass","w-full h-full",3,"onClick","label"]],template:function(e,i){if(e&1){let n=S();p(0,"input",1,0),g("input",function(r){return u(n),m(i.onInputChange(r))})("blur",function(){return u(n),m(i.onBlurHiddeninput())}),d(),p(2,"p-button",2),g("onClick",function(){return u(n),m(i.scanProduct())}),d()}e&2&&(c(2),l("label",i.buttonLabel))},dependencies:[k,Ke,At]})};var On=t=>({disabled:t});function Ka(t,o){if(t&1){let e=S();p(0,"div",0)(1,"button",2),g("click",function(){u(e);let n=s();return m(n.increment())}),y(2,"span",3),d(),p(3,"input",4),R("ngModelChange",function(n){u(e);let a=s();return $(a.value,n)||(a.value=n),m(n)}),g("keypress",function(n){u(e);let a=s();return m(a.validateOnlyNumbers(n))})("blur",function(){u(e);let n=s();return m(n.validateOnBlur())}),d(),p(4,"button",5),g("click",function(){u(e);let n=s();return m(n.decrement())}),y(5,"span",6),d()()}if(t&2){let e=s();c(3),B("ngModel",e.value),c(),l("disabled",e.value===1)("ngClass",A(3,On,e.value===1))}}function Ya(t,o){if(t&1){let e=S();p(0,"div",1)(1,"button",7),g("click",function(){u(e);let n=s();return m(n.decrement())}),y(2,"span",6),d(),p(3,"input",8),R("ngModelChange",function(n){u(e);let a=s();return $(a.value,n)||(a.value=n),m(n)}),g("keypress",function(n){u(e);let a=s();return m(a.validateOnlyNumbers(n))})("blur",function(){u(e);let n=s();return m(n.validateOnBlur())}),d(),p(4,"button",9),g("click",function(){u(e);let n=s();return m(n.increment())}),y(5,"span",3),d()()}if(t&2){let e=s();c(),l("disabled",e.value===1)("ngClass",A(3,On,e.value===1)),c(2),B("ngModel",e.value)}}var Ht=class t{value=null;inputOrientation="vertical";onValueChange=new x;increment(){if(!this.value||this.value===null||this.value===0){this.value=1;return}this.value+=1,this.onValueChange.emit(this.value)}decrement(){if(!this.value||this.value===null||this.value===0){this.value=1;return}this.value!==1&&(this.value-=1,this.onValueChange.emit(this.value))}validateOnBlur(){setTimeout(()=>{if(!this.value||this.value===null||this.value===0){this.value=1,this.onValueChange.emit(this.value);return}},100),this.value&&this.onValueChange.emit(this.value)}validateOnlyNumbers(o){let e=o.key.charCodeAt(0);e>=48&&e<=57||o.preventDefault()}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=O({type:t,selectors:[["quantity-input"]],inputs:{value:"value",inputOrientation:"inputOrientation"},outputs:{onValueChange:"onValueChange"},standalone:!0,features:[V],decls:2,vars:1,consts:[[1,"inline-flex","flex-col","rounded-lg","border","bg-white","shadow-sm"],[1,"inline-flex","flex-row","rounded-lg","border","bg-white","shadow-sm"],[1,"rounded-none","rounded-t-lg","border","hover:bg-gray-200","border-zinc-100",3,"click"],[1,"pi","pi-plus"],["type","number",1,"w-14","border","text-center","appearance-none","border-zinc-100",3,"ngModelChange","keypress","blur","ngModel"],[1,"rounded-none","rounded-b-lg","border","hover:bg-gray-200","border-zinc-100",3,"click","disabled","ngClass"],[1,"pi","pi-minus"],[1,"rounded-none","rounded-l-lg","border","hover:bg-gray-200","w-8","border-zinc-100",3,"click","disabled","ngClass"],["type","number",1,"w-14","border-y","text-center","appearance-none","border-zinc-100",3,"ngModelChange","keypress","blur","ngModel"],[1,"rounded-none","rounded-r-lg","border","hover:bg-gray-200","w-8","border-zinc-100",3,"click"]],template:function(e,i){e&1&&h(0,Ka,6,5,"div",0)(1,Ya,6,5,"div",1),e&2&&Y(i.inputOrientation==="vertical"?0:1)},dependencies:[k,te,we,wt,ki,Fe,ze],styles:[".appearance-none[_ngcontent-%COMP%]::-webkit-inner-spin-button, .appearance-none[_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.disabled[_ngcontent-%COMP%]{background-color:#f4f4f5}"]})};var Ja=()=>({"min-width":"38rem"}),Xa=t=>({"text-center":t}),er=t=>({hidden:t});function tr(t,o){t&1&&(p(0,"tr",4)(1,"th",5),v(2,"C\xF3digo"),d(),p(3,"th",6),v(4,"Nombre"),d(),p(5,"th",7),v(6,"Precio und"),d(),p(7,"th",7),v(8,"Cantidad"),d(),p(9,"th",5),v(10,"Acciones"),d()())}function ir(t,o){if(t&1){let e=S();p(0,"tr",8)(1,"td",9),v(2),d(),p(3,"td",10),v(4),d(),p(5,"td",11)(6,"p-inputnumber",12),R("ngModelChange",function(n){let a=u(e).$implicit;return $(a.price,n)||(a.price=n),m(n)}),g("keypress",function(n){u(e);let a=s();return m(a.validateOnlyNumbers(n))})("onBlur",function(){let n=u(e).$implicit,a=s();return m(a.validateValidPrice(n))})("ngModelChange",function(){let n=u(e).$implicit,a=s();return m(a.validateIsPriceIsIncludeInTariff(n))}),d()(),p(7,"td",13)(8,"quantity-input",14),g("onValueChange",function(n){let a=u(e).$implicit,r=s();return m(r.onQuantityChange(a,n))}),d()(),p(9,"td",9)(10,"div",15)(11,"button",16),g("click",function(){let n=u(e).$implicit,a=s();return m(a.removeProduct(n.productCode))}),y(12,"span",17),d(),p(13,"input",18),R("ngModelChange",function(n){let a=u(e).$implicit;return $(a.isTarifPriceChecked,n)||(a.isTarifPriceChecked=n),m(n)}),g("ngModelChange",function(){let n=u(e).$implicit,a=s();return m(a.getCompanyTariffPrice(n))}),d()()()()}if(t&2){let e=o.$implicit;c(2),ue(e.productCode),c(),l("ngClass",A(10,Xa,e.descProduct.length===0)),c(),ue(e.descProduct.length===0?"-":e.descProduct),c(2),B("ngModel",e.price),l("min",.1)("required",!0),c(2),l("inputOrientation","horizontal")("value",e.quantity),c(5),B("ngModel",e.isTarifPriceChecked),l("ngClass",A(12,er,e.tariffPrice.length===0))}}function nr(t,o){t&1&&(p(0,"tr")(1,"td",19),v(2,"A\xFAn no se han agregado productos."),d()())}var Ut=class t{constructor(o){this._cartService=o}detailCotizacionList=[];onProductChange=new x;ngOnInit(){this.validateTariffPriceChecked()}removeProduct(o){this._cartService.removeProductFromCard(o),this.onProductChange.emit()}updateCartProduct(o){this._cartService.updateProductAmount(o),this.onProductChange.emit()}validateIsPriceIsIncludeInTariff(o){o.isTarifPriceChecked=!1;let e=this.detailCotizacionList.findIndex(i=>i.productCode===o.productCode);this.detailCotizacionList[e]=o,o.tariffPrice.forEach(i=>{i.unitPrice==o.price&&i.minimumQuantity<=o.quantity&&(o.isTarifPriceChecked=!0)}),this.updateCartProduct(o),this.onProductChange.emit()}onQuantityChange(o,e){o.quantity=e,o.isTarifPriceChecked&&this.getCompanyTariffPrice(o),this.updateCartProduct(o),this.onProductChange.emit()}validateTariffPriceChecked(){this.detailCotizacionList.forEach(o=>{o.tariffPrice.forEach(e=>{e.unitPrice===o.price&&(o.isTarifPriceChecked=!0)})})}getCompanyTariffPrice(o){if(o.isTarifPriceChecked){o.tariffPrice.sort((i,n)=>n.minimumQuantity-i.minimumQuantity);let e=o.tariffPrice.find(i=>o.quantity>=i.minimumQuantity);if(e===void 0)return;o.price=e.unitPrice,this.updateCartProduct(o),this.onProductChange.emit(),console.log("tariff",e);return}o.price=o.originalPrice,this.updateCartProduct(o),this.onProductChange.emit()}validateOnlyNumbers(o){let e=o.charCode;(e<48||e>57)&&o.preventDefault()}validateValidPrice(o){(o.price==null||o.price==null||isNaN(o.price)||o.price<0)&&(console.log("Validating number"),o.price=.1)}static \u0275fac=function(e){return new(e||t)(J(kt))};static \u0275cmp=O({type:t,selectors:[["detalle-cotizacion-table"]],inputs:{detailCotizacionList:"detailCotizacionList"},outputs:{onProductChange:"onProductChange"},standalone:!0,features:[V],decls:6,vars:4,consts:[["header",""],["body",""],["showGridlines","","scrollHeight","400px",3,"value","scrollable","tableStyle"],["pTemplate","emptymessage"],[1,"py-1","px-2"],[1,"py-1","px-2","text-center",2,"width","10%"],[1,"py-1","px-2","text-center",2,"width","40%"],[1,"py-1","px-2","text-center",2,"width","20%"],[1,"px-2"],[1,"py-0","px-2"],[1,"py-0","px-2",3,"ngClass"],[1,"py-[3px]","px-2"],["size","small","inputId","currency-pe","mode","currency","currency","PEN","locale","es-PE","fluid","true","autocomplete","off",3,"ngModelChange","keypress","onBlur","ngModel","min","required"],[1,"py-0","px-2","text-center"],[3,"onValueChange","inputOrientation","value"],[1,"mx-auto","w-fit"],["pTooltip","Eliminar de la cotizacion","tooltipPosition","left",3,"click"],[1,"pi","pi-trash","text-red-600","hover:opacity-70","border","border-transparent","rounded-xl","text-xl"],["type","checkbox","pTooltip","Obtener precio de lista","tooltipPosition","left","placeholder","Bottom",1,"w-[18px]","h-[18px]","rounded-lg","border-zinc-200","cursor-pointer","ml-2",3,"ngModelChange","ngModel","ngClass"],["colspan","5",1,"text-center"]],template:function(e,i){e&1&&(p(0,"p-table",2),h(1,tr,11,0,"ng-template",null,0,ee)(3,ir,14,14,"ng-template",null,1,ee)(5,nr,3,0,"ng-template",3),d()),e&2&&l("value",i.detailCotizacionList)("scrollable",!0)("tableStyle",ae(3,Ja))},dependencies:[k,te,sn,ln,Ne,Ht,we,Vi,Fe,zi,ze,Gi,en,Xi],styles:[".appearance-none[_ngcontent-%COMP%]::-webkit-inner-spin-button, .appearance-none[_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.disabled[_ngcontent-%COMP%]{background-color:#f4f4f5}"]})};var or=({dt:t})=>`
.p-floatlabel {
    display: block;
    position: relative;
}

.p-floatlabel label {
    position: absolute;
    pointer-events: none;
    top: 50%;
    transform: translateY(-50%);
    transition-property: all;
    transition-timing-function: ease;
    line-height: 1;
    font-weight: ${t("floatlabel.font.weight")};
    inset-inline-start: ${t("floatlabel.position.x")};
    color: ${t("floatlabel.color")};
    transition-duration: ${t("floatlabel.transition.duration")};
}

.p-floatlabel:has(.p-textarea) label {
    top: ${t("floatlabel.position.y")};
    transform: translateY(0);
}

.p-floatlabel:has(.p-inputicon:first-child) label {
    inset-inline-start: calc((${t("form.field.padding.x")} * 2) + ${t("icon.size")});
}

.p-floatlabel:has(.ng-invalid.ng-dirty) label {
    color: ${t("floatlabel.invalid.color")};
}

.p-floatlabel:has(input:focus) label,
.p-floatlabel:has(input.p-filled) label,
.p-floatlabel:has(input:-webkit-autofill) label,
.p-floatlabel:has(textarea:focus) label,
.p-floatlabel:has(textarea.p-filled) label,
.p-floatlabel:has(.p-inputwrapper-focus) label,
.p-floatlabel:has(.p-inputwrapper-filled) label {
    top: ${t("floatlabel.over.active.top")};
    transform: translateY(0);
    font-size: ${t("floatlabel.active.font.size")};
    font-weight: ${t("floatlabel.label.active.font.weight")};
}

.p-floatlabel:has(input.p-filled) label,
.p-floatlabel:has(textarea.p-filled) label,
.p-floatlabel:has(.p-inputwrapper-filled) label {
    color: ${t("floatlabel.active.color")};
}

.p-floatlabel:has(input:focus) label,
.p-floatlabel:has(input:-webkit-autofill) label,
.p-floatlabel:has(textarea:focus) label,
.p-floatlabel:has(.p-inputwrapper-focus) label {
    color: ${t("floatlabel.focus.color")};
}

.p-floatlabel-in .p-inputtext,
.p-floatlabel-in .p-textarea,
.p-floatlabel-in .p-select-label,
.p-floatlabel-in .p-multiselect-label-container,
.p-floatlabel-in .p-autocomplete-input-multiple,
.p-floatlabel-in .p-cascadeselect-label,
.p-floatlabel-in .p-treeselect-label {
    padding-top: ${t("floatlabel.in.input.padding.top")};
}

.p-floatlabel-in:has(input:focus) label,
.p-floatlabel-in:has(input.p-filled) label,
.p-floatlabel-in:has(input:-webkit-autofill) label,
.p-floatlabel-in:has(textarea:focus) label,
.p-floatlabel-in:has(textarea.p-filled) label,
.p-floatlabel-in:has(.p-inputwrapper-focus) label,
.p-floatlabel-in:has(.p-inputwrapper-filled) label {
    top: ${t("floatlabel.in.active.top")};
}

.p-floatlabel-on:has(input:focus) label,
.p-floatlabel-on:has(input.p-filled) label,
.p-floatlabel-on:has(input:-webkit-autofill) label,
.p-floatlabel-on:has(textarea:focus) label,
.p-floatlabel-on:has(textarea.p-filled) label,
.p-floatlabel-on:has(.p-inputwrapper-focus) label,
.p-floatlabel-on:has(.p-inputwrapper-filled) label {
    top: 0;
    transform: translateY(-50%);
    border-radius: ${t("floatlabel.on.border.radius")};
    background: ${t("floatlabel.on.active.background")};
    padding: ${t("floatlabel.on.active.padding")};
}
`,ar={root:({instance:t,props:o})=>["p-floatlabel",{"p-floatlabel-over":o.variant==="over","p-floatlabel-on":o.variant==="on","p-floatlabel-in":o.variant==="in"}]},Pn=(()=>{class t extends Se{name="floatlabel";theme=or;classes=ar;static \u0275fac=(()=>{let e;return function(n){return(e||(e=K(t)))(n||t)}})();static \u0275prov=re({token:t,factory:t.\u0275fac})}return t})();var rr=["*"],Mn=(()=>{class t extends se{_componentStyle=W(Pn);variant="over";static \u0275fac=(()=>{let e;return function(n){return(e||(e=K(t)))(n||t)}})();static \u0275cmp=O({type:t,selectors:[["p-floatlabel"],["p-floatLabel"],["p-float-label"]],hostVars:8,hostBindings:function(i,n){i&2&&Ae("p-floatlabel",!0)("p-floatlabel-over",n.variant==="over")("p-floatlabel-on",n.variant==="on")("p-floatlabel-in",n.variant==="in")},inputs:{variant:"variant"},standalone:!0,features:[oe([Pn]),le,V],ngContentSelectors:rr,decls:1,vars:0,template:function(i,n){i&1&&(ye(),ve(0))},dependencies:[k,ge],encapsulation:2,changeDetection:0})}return t})();var lr=({dt:t})=>`
.p-accordionpanel {
    display: flex;
    flex-direction: column;
    border-style: solid;
    border-width: ${t("accordion.panel.border.width")};
    border-color: ${t("accordion.panel.border.color")};
}

.p-accordionheader {
    all: unset;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: ${t("accordion.header.padding")};
    color: ${t("accordion.header.color")};
    background: ${t("accordion.header.background")};
    border-style: solid;
    border-width: ${t("accordion.header.border.width")};
    border-color: ${t("accordion.header.border.color")};
    font-weight: ${t("accordion.header.font.weight")};
    border-radius: ${t("accordion.header.border.radius")};
    transition: background ${t("accordion.transition.duration")}; color ${t("accordion.transition.duration")}color ${t("accordion.transition.duration")}, outline-color ${t("accordion.transition.duration")}, box-shadow ${t("accordion.transition.duration")};
    outline-color: transparent;
    position: relative;
    overflow: hidden;
}

.p-accordionpanel:first-child > .p-accordionheader {
    border-width: ${t("accordion.header.first.border.width")};
    border-start-start-radius: ${t("accordion.header.first.top.border.radius")};
    border-start-end-radius: ${t("accordion.header.first.top.border.radius")};
}

.p-accordionpanel:last-child > .p-accordionheader {
    border-end-start-radius: ${t("accordion.header.last.bottom.border.radius")};
    border-end-end-radius: ${t("accordion.header.last.bottom.border.radius")};
}

.p-accordionpanel:last-child.p-accordionpanel-active > .p-accordionheader {
    border-end-start-radius: ${t("accordion.header.last.active.bottom.border.radius")};
    border-end-end-radius:${t("accordion.header.last.active.bottom.border.radius")};
}

.p-accordionheader-toggle-icon {
    color: ${t("accordion.header.toggle.icon.color")};
}

.p-accordionpanel:not(.p-disabled) .p-accordionheader:focus-visible {
    box-shadow: ${t("accordion.header.focus.ring.shadow")};
    outline: ${t("accordion.header.focus.ring.width")} ${t("accordion.header.focus.ring.style")} ${t("accordion.header.focus.ring.color")};
    outline-offset: ${t("accordion.header.focus.ring.offset")};
}

.p-accordionpanel:not(.p-accordionpanel-active):not(.p-disabled) > .p-accordionheader:hover {
    background: ${t("accordion.header.hover.background")};
    color: ${t("accordion.header.hover.color")}
}

.p-accordionpanel:not(.p-accordionpanel-active):not(.p-disabled) .p-accordionheader:hover .p-accordionheader-toggle-icon {
    color: ${t("accordion.header.toggle.icon.hover.color")};
}

.p-accordionpanel:not(.p-disabled).p-accordionpanel-active > .p-accordionheader {
    background: ${t("accordion.header.active.background")};
    color: ${t("accordion.header.active.color")}
}

.p-accordionpanel:not(.p-disabled).p-accordionpanel-active > .p-accordionheader .p-accordionheader-toggle-icon {
    color: ${t("accordion.header.toggle.icon.active.color")};
}

.p-accordionpanel:not(.p-disabled).p-accordionpanel-active > .p-accordionheader:hover  {
    background: ${t("accordion.header.active.hover.background")};
    color: ${t("accordion.header.active.hover.color")}
}

.p-accordionpanel:not(.p-disabled).p-accordionpanel-active > .p-accordionheader:hover  .p-accordionheader-toggle-icon {
    color: ${t("accordion.header.toggle.icon.active.hover.color")};
}

.p-accordioncontent-content {
    border-style: solid;
    border-width: ${t("accordion.content.border.width")};
    border-color: ${t("accordion.content.border.color")};
    background-color: ${t("accordion.content.background")};
    color: ${t("accordion.content.color")};
    padding: ${t("accordion.content.padding")}
}

/*For PrimeNG*/

.p-accordion .p-accordioncontent {
    overflow: hidden;
}

.p-accordionpanel.p-accordioncontent:not(.ng-animating) {
    overflow: inherit;
}

.p-accordionheader-toggle-icon.icon-start {
    order: -1;
}

.p-accordionheader:has(.p-accordionheader-toggle-icon.icon-start) {
    justify-content: flex-start;
    gap: ${t("accordion.header.padding")};
}
`,sr={root:"p-accordion p-component"},qt=(()=>{class t extends Se{name="accordion";theme=lr;classes=sr;static \u0275fac=(()=>{let e;return function(n){return(e||(e=K(t)))(n||t)}})();static \u0275prov=re({token:t,factory:t.\u0275fac})}return t})();var Gt=["*"],cr=["toggleicon"],pr=t=>({active:t});function dr(t,o){}function ur(t,o){t&1&&h(0,dr,0,0,"ng-template")}function mr(t,o){if(t&1&&h(0,ur,1,0,null,0),t&2){let e=s();l("ngTemplateOutlet",e.toggleicon)("ngTemplateOutletContext",A(2,pr,e.active()))}}function hr(t,o){if(t&1&&y(0,"span",4),t&2){let e=s(3);X(e.pcAccordion.collapseIcon),l("ngClass",e.pcAccordion.iconClass),C("aria-hidden",!0)}}function gr(t,o){if(t&1&&y(0,"ChevronDownIcon",4),t&2){let e=s(3);l("ngClass",e.pcAccordion.iconClass),C("aria-hidden",!0)}}function fr(t,o){if(t&1&&(q(0),h(1,hr,1,4,"span",2)(2,gr,1,2,"ChevronDownIcon",3),j()),t&2){let e=s(2);c(),l("ngIf",e.pcAccordion.collapseIcon),c(),l("ngIf",!e.pcAccordion.collapseIcon)}}function _r(t,o){if(t&1&&y(0,"span",4),t&2){let e=s(3);X(e.pcAccordion.expandIcon),l("ngClass",e.pcAccordion.iconClass),C("aria-hidden",!0)}}function vr(t,o){if(t&1&&y(0,"ChevronUpIcon",4),t&2){let e=s(3);l("ngClass",e.pcAccordion.iconClass),C("aria-hidden",!0)}}function Cr(t,o){if(t&1&&(q(0),h(1,_r,1,4,"span",2)(2,vr,1,2,"ChevronUpIcon",3),j()),t&2){let e=s(2);c(),l("ngIf",e.pcAccordion.expandIcon),c(),l("ngIf",!e.pcAccordion.expandIcon)}}function yr(t,o){if(t&1&&h(0,fr,3,2,"ng-container",1)(1,Cr,3,2,"ng-container",1),t&2){let e=s();l("ngIf",e.active()),c(),l("ngIf",!e.active())}}var jt=t=>({transitionParams:t}),Vn=t=>({value:"visible",params:t}),kn=t=>({value:"hidden",params:t}),br=["header"],wr=["icon"],xr=["content"],Sr=["*",[["p-header"]]],Tr=["*","p-header"],Ir=t=>({$implicit:t});function Ar(t,o){if(t&1&&v(0),t&2){let e=s();Ce(" ",e.header," ")}}function Er(t,o){t&1&&de(0)}function Or(t,o){if(t&1&&h(0,Er,1,0,"ng-container",4),t&2){let e=s(2);l("ngTemplateOutlet",e.headerTemplate||e._headerTemplate)}}function Pr(t,o){t&1&&ve(0,1)}function Mr(t,o){if(t&1&&h(0,Or,1,1,"ng-container")(1,Pr,1,0),t&2){let e=s();Y(e.headerTemplate||e._headerTemplate?0:-1),c(),Y(e.headerFacet?1:-1)}}function Vr(t,o){}function kr(t,o){t&1&&h(0,Vr,0,0,"ng-template")}function Dr(t,o){if(t&1&&h(0,kr,1,0,null,5),t&2){let e=s();l("ngTemplateOutlet",e.iconTemplate||e._iconTemplate)("ngTemplateOutletContext",A(2,Ir,e.selected))}}function Fr(t,o){if(t&1&&y(0,"span",8),t&2){let e=s(3);X(e.accordion.collapseIcon),l("ngClass",e.iconClass),C("aria-hidden",!0)}}function zr(t,o){if(t&1&&y(0,"ChevronDownIcon",8),t&2){let e=s(3);l("ngClass",e.iconClass),C("aria-hidden",!0)}}function Lr(t,o){if(t&1&&(q(0),h(1,Fr,1,4,"span",6)(2,zr,1,2,"ChevronDownIcon",7),j()),t&2){let e=s(2);c(),l("ngIf",e.accordion.collapseIcon),c(),l("ngIf",!e.accordion.collapseIcon)}}function Nr(t,o){if(t&1&&y(0,"span",8),t&2){let e=s(3);X(e.accordion.expandIcon),l("ngClass",e.iconClass),C("aria-hidden",!0)}}function Br(t,o){if(t&1&&y(0,"ChevronUpIcon",8),t&2){let e=s(3);l("ngClass",e.iconClass),C("aria-hidden",!0)}}function $r(t,o){if(t&1&&(q(0),h(1,Nr,1,4,"span",6)(2,Br,1,2,"ChevronUpIcon",7),j()),t&2){let e=s(2);c(),l("ngIf",e.accordion.expandIcon),c(),l("ngIf",!e.accordion.expandIcon)}}function Rr(t,o){if(t&1&&h(0,Lr,3,2,"ng-container",3)(1,$r,3,2,"ng-container",3),t&2){let e=s();l("ngIf",e.selected),c(),l("ngIf",!e.selected)}}function Qr(t,o){t&1&&de(0)}function Hr(t,o){if(t&1&&(q(0),h(1,Qr,1,0,"ng-container",4),j()),t&2){let e=s();c(),l("ngTemplateOutlet",e.contentTemplate||e._contentTemplate)}}var gi=(()=>{class t extends se{pcAccordion=W(Ie(()=>ht));value=ii(void 0);disabled=vt(!1,{transform:e=>Et(e)});active=me(()=>this.pcAccordion.multiple()?this.valueEquals(this.pcAccordion.value(),this.value()):this.pcAccordion.value()===this.value());valueEquals(e,i){return Array.isArray(e)?e.includes(i):e===i}static \u0275fac=(()=>{let e;return function(n){return(e||(e=K(t)))(n||t)}})();static \u0275cmp=O({type:t,selectors:[["p-accordion-panel"],["p-accordionpanel"]],hostVars:9,hostBindings:function(i,n){i&2&&(C("data-pc-name","accordionpanel")("data-p-disabled",n.disabled())("data-p-active",n.active()),Ae("p-accordionpanel",!0)("p-accordionpanel-active",n.active())("p-disabled",n.disabled()))},inputs:{value:[1,"value"],disabled:[1,"disabled"]},outputs:{value:"valueChange"},standalone:!0,features:[le,V],ngContentSelectors:Gt,decls:1,vars:0,template:function(i,n){i&1&&(ye(),ve(0))},dependencies:[k],encapsulation:2,changeDetection:0})}return t})(),Ur=(()=>{class t extends se{pcAccordion=W(Ie(()=>ht));pcAccordionPanel=W(Ie(()=>gi));id=me(()=>`${this.pcAccordion.id()}_accordionheader_${this.pcAccordionPanel.value()}`);active=me(()=>this.pcAccordionPanel.active());disabled=me(()=>this.pcAccordionPanel.disabled());ariaControls=me(()=>`${this.pcAccordion.id()}_accordioncontent_${this.pcAccordionPanel.value()}`);toggleicon;onClick(){this.changeActiveValue()}onFocus(){this.pcAccordion.selectOnFocus()&&this.changeActiveValue()}onKeydown(e){switch(e.code){case"ArrowDown":this.arrowDownKey(e);break;case"ArrowUp":this.arrowUpKey(e);break;case"Home":this.onHomeKey(e);break;case"End":this.onEndKey(e);break;case"Enter":case"Space":case"NumpadEnter":this.onEnterKey(e);break;default:break}}changeActiveValue(){this.pcAccordion.updateValue(this.pcAccordionPanel.value())}findPanel(e){return e?.closest('[data-pc-name="accordionpanel"]')}findHeader(e){return xe(e,'[data-pc-name="accordionheader"]')}findNextPanel(e,i=!1){let n=i?e:e.nextElementSibling;return n?st(n,"data-p-disabled")?this.findNextPanel(n):this.findHeader(n):null}findPrevPanel(e,i=!1){let n=i?e:e.previousElementSibling;return n?st(n,"data-p-disabled")?this.findPrevPanel(n):this.findHeader(n):null}findFirstPanel(){return this.findNextPanel(this.pcAccordion.el.nativeElement.firstElementChild,!0)}findLastPanel(){return this.findPrevPanel(this.pcAccordion.el.nativeElement.lastElementChild,!0)}changeFocusedPanel(e,i){he(i)}arrowDownKey(e){let i=this.findNextPanel(this.findPanel(e.currentTarget));i?this.changeFocusedPanel(e,i):this.onHomeKey(e),e.preventDefault()}arrowUpKey(e){let i=this.findPrevPanel(this.findPanel(e.currentTarget));i?this.changeFocusedPanel(e,i):this.onEndKey(e),e.preventDefault()}onHomeKey(e){let i=this.findFirstPanel();this.changeFocusedPanel(e,i),e.preventDefault()}onEndKey(e){let i=this.findLastPanel();this.changeFocusedPanel(e,i),e.preventDefault()}onEnterKey(e){this.changeActiveValue(),e.preventDefault()}static \u0275fac=(()=>{let e;return function(n){return(e||(e=K(t)))(n||t)}})();static \u0275cmp=O({type:t,selectors:[["p-accordion-header"],["p-accordionheader"]],contentQueries:function(i,n,a){if(i&1&&L(a,cr,5),i&2){let r;b(r=w())&&(n.toggleicon=r.first)}},hostVars:12,hostBindings:function(i,n){i&1&&g("click",function(r){return n.onClick(r)})("focus",function(r){return n.onFocus(r)})("keydown",function(r){return n.onKeydown(r)}),i&2&&(C("id",n.id())("aria-expanded",n.active())("aria-controls",n.ariaControls())("role","button")("tabindex","0")("data-p-active",n.active())("data-p-disabled",n.disabled())("data-pc-name","accordionheader"),De("user-select","none"),Ae("p-accordionheader",!0))},standalone:!0,features:[Si([It]),le,V],ngContentSelectors:Gt,decls:3,vars:1,consts:[[4,"ngTemplateOutlet","ngTemplateOutletContext"],[4,"ngIf"],[3,"class","ngClass",4,"ngIf"],[3,"ngClass",4,"ngIf"],[3,"ngClass"]],template:function(i,n){i&1&&(ye(),ve(0),h(1,mr,1,4)(2,yr,2,2)),i&2&&(c(),Y(n.toggleicon?1:2))},dependencies:[k,te,He,Ue,pt,ri],encapsulation:2,changeDetection:0})}return t})(),qr=(()=>{class t extends se{pcAccordion=W(Ie(()=>ht));pcAccordionPanel=W(Ie(()=>gi));active=me(()=>this.pcAccordionPanel.active());ariaLabelledby=me(()=>`${this.pcAccordion.id()}_accordionheader_${this.pcAccordionPanel.value()}`);id=me(()=>`${this.pcAccordion.id()}_accordioncontent_${this.pcAccordionPanel.value()}`);static \u0275fac=(()=>{let e;return function(n){return(e||(e=K(t)))(n||t)}})();static \u0275cmp=O({type:t,selectors:[["p-accordion-content"],["p-accordioncontent"]],hostVars:16,hostBindings:function(i,n){i&2&&(Ti("@content",n.active()?A(10,Vn,A(8,jt,n.pcAccordion.transitionOptions)):A(14,kn,A(12,jt,n.pcAccordion.transitionOptions))),C("id",n.id())("role","region")("data-pc-name","accordioncontent")("data-p-active",n.active())("aria-labelledby",n.ariaLabelledby()),Ae("p-accordioncontent",!0))},standalone:!0,features:[le,V],ngContentSelectors:Gt,decls:2,vars:0,consts:[[1,"p-accordioncontent-content"]],template:function(i,n){i&1&&(ye(),p(0,"div",0),ve(1),d())},dependencies:[k],encapsulation:2,data:{animation:[ni("content",[rt("hidden",at({height:"0",visibility:"hidden"})),rt("visible",at({height:"*",visibility:"visible"})),lt("visible <=> hidden",[ot("{{transitionParams}}")]),lt("void => *",ot(0))])]},changeDetection:0})}return t})(),Dn=(()=>{class t extends se{get hostClass(){return this.tabStyleClass}get hostStyle(){return this.tabStyle}id=ct("pn_id_");header;headerStyle;tabStyle;contentStyle;tabStyleClass;headerStyleClass;contentStyleClass;disabled;cache=!0;transitionOptions="400ms cubic-bezier(0.86, 0, 0.07, 1)";iconPos="start";get selected(){return this._selected}set selected(e){this._selected=e,this.loaded||(this._selected&&this.cache&&(this.loaded=!0),this.cd.detectChanges())}headerAriaLevel=2;selectedChange=new x;headerFacet;_selected=!1;get iconClass(){return this.iconPos==="end"?"p-accordionheader-toggle-icon icon-end":"p-accordionheader-toggle-icon icon-start"}headerTemplate;iconTemplate;contentTemplate;templates;_headerTemplate;_iconTemplate;_contentTemplate;loaded=!1;accordion=W(Ie(()=>ht));_componentStyle=W(qt);ngOnInit(){super.ngOnInit(),console.log("AccordionTab is deprecated as of v18, please use the new structure instead.")}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"content":this._contentTemplate=e.template;break;case"header":this._headerTemplate=e.template;break;case"icon":this._iconTemplate=e.template;break;default:this._contentTemplate=e.template;break}})}toggle(e){if(this.disabled)return!1;let i=this.findTabIndex();if(this.selected)this.selected=!1,this.accordion.onClose.emit({originalEvent:e,index:i});else{if(!this.accordion.multiple())for(var n=0;n<this.accordion.tabs.length;n++)this.accordion.tabs[n].selected&&(this.accordion.tabs[n].selected=!1,this.accordion.tabs[n].selectedChange.emit(!1),this.accordion.tabs[n].cd.markForCheck());this.selected=!0,this.loaded=!0,this.accordion.onOpen.emit({originalEvent:e,index:i})}this.selectedChange.emit(this.selected),this.accordion.updateActiveIndex(),this.cd.markForCheck(),e?.preventDefault()}findTabIndex(){let e=-1;for(var i=0;i<this.accordion.tabs.length;i++)if(this.accordion.tabs[i]==this){e=i;break}return e}onKeydown(e){switch(e.code){case"Enter":case"Space":this.toggle(e),e.preventDefault();break;default:break}}getTabHeaderActionId(e){return`${e}_header_action`}getTabContentId(e){return`${e}_content`}ngOnDestroy(){this.accordion.tabs.splice(this.findTabIndex(),1),super.ngOnDestroy()}static \u0275fac=(()=>{let e;return function(n){return(e||(e=K(t)))(n||t)}})();static \u0275cmp=O({type:t,selectors:[["p-accordionTab"],["p-accordion-tab"],["p-accordiontab"]],contentQueries:function(i,n,a){if(i&1&&(L(a,br,4),L(a,wr,4),L(a,xr,4),L(a,Ri,4),L(a,Ne,4)),i&2){let r;b(r=w())&&(n.headerTemplate=r.first),b(r=w())&&(n.iconTemplate=r.first),b(r=w())&&(n.contentTemplate=r.first),b(r=w())&&(n.headerFacet=r),b(r=w())&&(n.templates=r)}},hostVars:9,hostBindings:function(i,n){i&2&&(C("data-pc-name","accordiontab"),ie(n.hostStyle),X(n.hostClass),Ae("p-accordionpanel",!0)("p-accordionpanel-active",n.selected))},inputs:{id:"id",header:"header",headerStyle:"headerStyle",tabStyle:"tabStyle",contentStyle:"contentStyle",tabStyleClass:"tabStyleClass",headerStyleClass:"headerStyleClass",contentStyleClass:"contentStyleClass",disabled:[2,"disabled","disabled",P],cache:[2,"cache","cache",P],transitionOptions:"transitionOptions",iconPos:"iconPos",selected:"selected",headerAriaLevel:[2,"headerAriaLevel","headerAriaLevel",Ee]},outputs:{selectedChange:"selectedChange"},standalone:!0,features:[oe([qt]),je,le,V],ngContentSelectors:Tr,decls:9,vars:30,consts:[["type","button",1,"p-accordionheader",3,"click","keydown","disabled","ngClass","ngStyle"],["role","region",1,"p-accordioncontent"],[1,"p-accordioncontent-content",3,"ngClass","ngStyle"],[4,"ngIf"],[4,"ngTemplateOutlet"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"class","ngClass",4,"ngIf"],[3,"ngClass",4,"ngIf"],[3,"ngClass"]],template:function(i,n){i&1&&(ye(Sr),p(0,"button",0),g("click",function(r){return n.toggle(r)})("keydown",function(r){return n.onKeydown(r)}),h(1,Ar,1,1)(2,Mr,2,2)(3,Dr,1,4)(4,Rr,2,2),d(),p(5,"div",1)(6,"div",2),ve(7),h(8,Hr,2,1,"ng-container",3),d()()),i&2&&(Ae("p-disabled",n.disabled),l("disabled",n.disabled)("ngClass",n.headerStyleClass)("ngStyle",n.headerStyle),C("aria-expanded",n.selected)("aria-level",n.headerAriaLevel)("data-p-disabled",n.disabled)("data-pc-section","accordionheader")("tabindex",n.disabled?null:0)("id",n.getTabHeaderActionId(n.id))("aria-controls",n.getTabContentId(n.id)),c(),Y(!n.headerTemplate&&!n._headerTemplate?1:2),c(2),Y(n.iconTemplate||n._iconTemplate?3:4),c(2),l("@tabContent",n.selected?A(24,Vn,A(22,jt,n.transitionOptions)):A(28,kn,A(26,jt,n.transitionOptions))),C("id",n.getTabContentId(n.id))("aria-hidden",!n.selected)("aria-labelledby",n.getTabHeaderActionId(n.id))("data-pc-section","toggleablecontent"),c(),l("ngClass",n.contentStyleClass)("ngStyle",n.contentStyle),c(2),l("ngIf",(n.contentTemplate||n._contentTemplate)&&(n.cache?n.loaded:n.selected)))},dependencies:[k,te,He,Ue,Ge,pt,ri],encapsulation:2,data:{animation:[ni("tabContent",[rt("hidden",at({height:"0",visibility:"hidden"})),rt("visible",at({height:"*",visibility:"visible"})),lt("visible <=> hidden",[ot("{{transitionParams}}")]),lt("void => *",ot(0))])]},changeDetection:0})}return t})(),ht=(()=>{class t extends se{get hostClass(){return this.styleClass}get hostStyle(){return this.style}value=ii(void 0);multiple=vt(!1,{transform:e=>Et(e)});style;styleClass;expandIcon;collapseIcon;selectOnFocus=vt(!1,{transform:e=>Et(e)});set activeIndex(e){if(this._activeIndex=e,this.preventActiveIndexPropagation){this.preventActiveIndexPropagation=!1;return}this.updateSelectionState()}transitionOptions="400ms cubic-bezier(0.86, 0, 0.07, 1)";activeIndexChange=new x;set headerAriaLevel(e){typeof e=="number"&&e>0?this._headerAriaLevel=e:this._headerAriaLevel!==2&&(this._headerAriaLevel=2)}onClose=new x;onOpen=new x;id=Qe(ct("pn_id_"));tabList;tabListSubscription=null;_activeIndex;_headerAriaLevel=2;preventActiveIndexPropagation=!1;tabs=[];_componentStyle=W(qt);get activeIndex(){return this._activeIndex}get headerAriaLevel(){return this._headerAriaLevel}onKeydown(e){switch(e.code){case"ArrowDown":this.onTabArrowDownKey(e);break;case"ArrowUp":this.onTabArrowUpKey(e);break;case"Home":e.shiftKey||this.onTabHomeKey(e);break;case"End":e.shiftKey||this.onTabEndKey(e);break}}onTabArrowDownKey(e){let i=this.findNextHeaderAction(e.target.parentElement);i?this.changeFocusedTab(i):this.onTabHomeKey(e),e.preventDefault()}onTabArrowUpKey(e){let i=this.findPrevHeaderAction(e.target.parentElement);i?this.changeFocusedTab(i):this.onTabEndKey(e),e.preventDefault()}onTabHomeKey(e){let i=this.findFirstHeaderAction();this.changeFocusedTab(i),e.preventDefault()}changeFocusedTab(e){e&&(he(e),this.selectOnFocus()&&this.tabs.forEach((i,n)=>{let a=this.multiple()?this._activeIndex.includes(n):n===this._activeIndex;this.multiple()?(this._activeIndex||(this._activeIndex=[]),i.id==e.id&&(i.selected=!i.selected,this._activeIndex.includes(n)?this._activeIndex=this._activeIndex.filter(r=>r!==n):this._activeIndex.push(n))):i.id==e.id?(i.selected=!i.selected,this._activeIndex=n):i.selected=!1,i.selectedChange.emit(a),this.activeIndexChange.emit(this._activeIndex),i.cd.markForCheck()}))}findNextHeaderAction(e,i=!1){let n=i?e:e.nextElementSibling,a=xe(n,'[data-pc-section="accordionheader"]');return a?st(a,"data-p-disabled")?this.findNextHeaderAction(a.parentElement):xe(a.parentElement,'[data-pc-section="accordionheader"]'):null}findPrevHeaderAction(e,i=!1){let n=i?e:e.previousElementSibling,a=xe(n,'[data-pc-section="accordionheader"]');return a?st(a,"data-p-disabled")?this.findPrevHeaderAction(a.parentElement):xe(a.parentElement,'[data-pc-section="accordionheader"]'):null}findFirstHeaderAction(){let e=this.el.nativeElement.firstElementChild;return this.findNextHeaderAction(e,!0)}findLastHeaderAction(){let e=this.el.nativeElement.lastElementChild;return this.findPrevHeaderAction(e,!0)}onTabEndKey(e){let i=this.findLastHeaderAction();this.changeFocusedTab(i),e.preventDefault()}ngAfterContentInit(){this.initTabs(),this.tabListSubscription=this.tabList.changes.subscribe(e=>{this.initTabs()})}initTabs(){this.tabs=this.tabList.toArray(),this.tabs.forEach(e=>{e.headerAriaLevel=this._headerAriaLevel}),this.updateSelectionState(),this.cd.markForCheck()}getBlockableElement(){return this.el.nativeElement.children[0]}updateSelectionState(){if(this.tabs&&this.tabs.length&&this._activeIndex!=null)for(let e=0;e<this.tabs.length;e++){let i=this.multiple()?this._activeIndex.includes(e):e===this._activeIndex;i!==this.tabs[e].selected&&(this.tabs[e].selected=i,this.tabs[e].selectedChange.emit(i),this.tabs[e].cd.markForCheck())}}isTabActive(e){return this.multiple()?this._activeIndex&&this._activeIndex.includes(e):this._activeIndex===e}getTabProp(e,i){return e.props?e.props[i]:void 0}updateActiveIndex(){let e=this.multiple()?[]:null;this.tabs.forEach((i,n)=>{if(i.selected)if(this.multiple())e.push(n);else{e=n;return}}),this.preventActiveIndexPropagation=!0,this._activeIndex=e,this.activeIndexChange.emit(e)}updateValue(e){let i=this.value();if(this.multiple()){let n=Array.isArray(i)?[...i]:[],a=n.indexOf(e);a!==-1?n.splice(a,1):n.push(e),this.value.set(n)}else i===e?this.value.set(void 0):this.value.set(e)}ngOnDestroy(){this.tabListSubscription&&this.tabListSubscription.unsubscribe(),super.ngOnDestroy()}static \u0275fac=(()=>{let e;return function(n){return(e||(e=K(t)))(n||t)}})();static \u0275cmp=O({type:t,selectors:[["p-accordion"]],contentQueries:function(i,n,a){if(i&1&&L(a,Dn,5),i&2){let r;b(r=w())&&(n.tabList=r)}},hostVars:8,hostBindings:function(i,n){i&1&&g("keydown",function(r){return n.onKeydown(r)}),i&2&&(ie(n.hostStyle),X(n.hostClass),Ae("p-accordion",!0)("p-component",!0))},inputs:{value:[1,"value"],multiple:[1,"multiple"],style:"style",styleClass:"styleClass",expandIcon:"expandIcon",collapseIcon:"collapseIcon",selectOnFocus:[1,"selectOnFocus"],transitionOptions:"transitionOptions",activeIndex:"activeIndex",headerAriaLevel:"headerAriaLevel"},outputs:{value:"valueChange",activeIndexChange:"activeIndexChange",onClose:"onClose",onOpen:"onOpen"},standalone:!0,features:[oe([qt]),le,V],ngContentSelectors:Gt,decls:1,vars:0,template:function(i,n){i&1&&(ye(),ve(0))},dependencies:[k,ge],encapsulation:2,changeDetection:0})}return t})(),Fn=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=ke({type:t});static \u0275inj=Ve({imports:[ht,Dn,ge,gi,Ur,qr,ge]})}return t})();var Wt=class t{constructor(o){this._http=o}getProducts(){let o=`${Pi.url}/products`;return this._http.get(o,{withCredentials:!0})}static \u0275fac=function(e){return new(e||t)(_i(Oi))};static \u0275prov=re({token:t,factory:t.\u0275fac,providedIn:"root"})};var Gr=["hiddenInputBarcode"],Wr=t=>({hidden:t}),Kr=()=>({width:"20rem"}),Yr=()=>({width:"50px",height:"50px"});function Zr(t,o){t&1&&(p(0,"div",1),y(1,"p-progress-spinner",51),d()),t&2&&(c(),ie(ae(2,Yr)))}function Jr(t,o){t&1&&y(0,"span",8)}function Xr(t,o){t&1&&y(0,"span",9)}function el(t,o){if(t&1){let e=S();p(0,"p-button",52),g("onClick",function(){u(e);let n=s();return m(n.scannerVisibility=!0)}),d()}}function tl(t,o){if(t&1){let e=S();p(0,"scanner-usb",53),g("onProductScanned",function(n){u(e);let a=s();return m(a.onProductScanned(n))}),d()}if(t&2){let e=s();l("products",e.productsList)}}function il(t,o){if(t&1){let e=S();p(0,"p-button",54),g("onClick",function(){u(e);let n=s();return m(n.sendToDynamics())}),d()}if(t&2){let e=s();l("disabled",e.isFormInvalid().sendBtn)("loading",e.loadingBtnSend)}}function nl(t,o){if(t&1){let e=S();p(0,"p-button",55),g("onClick",function(){u(e);let n=s();return m(n.updateInDynamics())}),d()}if(t&2){let e=s();l("disabled",e.isFormInvalid().sendBtn)("loading",e.loadingBtnSend)}}function ol(t,o){if(t&1){let e=S();p(0,"scanner-code",56),g("onScannedProduct",function(n){u(e);let a=s();return m(a.onProductScanned(n))})("onCloseScannerModal",function(){u(e);let n=s();return m(n.scannerVisibility=!1)}),d()}if(t&2){let e=s();l("products",e.productsList)}}function al(t,o){t&1&&(p(0,"div",57)(1,"div",58),y(2,"span",59),d(),p(3,"div",60)(4,"p",61),v(5,"Producto no encontrado"),d(),p(6,"p",62),v(7,"El producto no fue encontrado, intente escanear un c\xF3digo diferente."),d()()())}var zn=class t{constructor(o,e,i,n,a,r){this._cotizacionesService=o;this._cartService=e;this._productService=i;this._companyService=n;this.messageService=a;this.confirmationService=r}cotizacion={noCotizacion:"",clientDoc:"",clientNames:"",cart:[],puntoEntrega:"",lugarEnvio:"",tipoEntrega:"",tipoPrecio:"",telefonoCliente:"",direCliente:"",status:2,totalPrice:0,timestamp:0};typeOfDelivery=[];placeOfDispatch=[];shippingLocation=[];priceType=[];selectedProduct;filteredProducts=[];precioPorMenor=!1;scannerVisibility=!1;productNotFoundVisibility=!1;accordionVisibility=!0;loadingBtnDelete=!1;loadingBtnSave=!1;loadingBtnSend=!1;loadingFetchData=!1;productsListOriginal=[];productsList=[];percentageForMinorTypePrice=1;productsPluralMap={"=0":"productos","=1":"producto",other:"productos"};hiddenInputBarcode;ngOnInit(){this.getCotizacionData(),this.getProductos(),this.loadTypeOfDelivery(),this.loadCompanyPlaceOfDispatch(),this.loadCompanyShippingLocation(),this.loadCompanyPriceType()}ngOnDestroy(){this._cartService.clearCart()}get cotizacionCartProducts(){return this._cartService.cotizacionProductsCart.reverse()}loadTypeOfDelivery(){this._companyService.getTypeOfDelivery().subscribe(o=>{this.typeOfDelivery=o.data})}loadCompanyPlaceOfDispatch(){this._companyService.getCompanyPlaceOfDispatch().subscribe(o=>{this.placeOfDispatch=o.data})}loadCompanyShippingLocation(){this._companyService.getCompanyShippingLocation().subscribe(o=>{this.shippingLocation=o.data})}loadCompanyPriceType(){this._companyService.getCompanyPriceType().subscribe(o=>{this.priceType=o.data})}get cotizacionStatus(){return Yi}getProductos(){this.loadingFetchData=!0,this._productService.getProducts().pipe(et(o=>o.data.result)).subscribe(o=>{this.productsListOriginal=o,this.productsList=o,this.loadingFetchData=!1})}getCotizacionData(){let o=history.state?.cotizacionId||null;o&&(o.toUpperCase().startsWith("CT")&&this.loadCotizacionFromLocalStorage(o),o.toUpperCase().startsWith("FV")&&this.getCotizacionById(o),!o.toUpperCase().startsWith("CT")&&!o.toUpperCase().startsWith("FV")&&this.loadCotizacionFromLocalStorage(o))}loadCotizacionFromLocalStorage(o){let e=this._cotizacionesService.findCotizacionInLocalStorageById(o);if(!e){this.cotizacion={noCotizacion:"",clientDoc:"",clientNames:"",cart:[],puntoEntrega:"",lugarEnvio:"",tipoEntrega:"",tipoPrecio:"",telefonoCliente:"",direCliente:"",status:2,totalPrice:0,timestamp:0},this.messageService.add({severity:"error",summary:"Error al obtener la cotizaci\xF3n",detail:"Se produjo un error al intentar obtener los datos de la cotizaci\xF3n.",key:"toast-generate-cotizacion",life:3500});return}this.cotizacion=e,this._cartService.cotizacionProductsCart=e.cart}getProductTariffPrice(o){this._companyService.getCompanyTariffPrice(o.productCode).subscribe(e=>{o.tariffPrice=e.data})}getCotizacionById(o){this._cotizacionesService.getQuotationById(o).pipe(tt(e=>(this.messageService.add({severity:"error",summary:"Error al obtener la cotizaci\xF3n",detail:"Se produjo un error al intentar obtener los datos de la cotizaci\xF3n.",key:"toast-generate-cotizacion",life:3500}),Xe))).subscribe(e=>{e&&(this.cotizacion=li.mapRespQuotationByIdDtoQuotation(e.data),this.cotizacion.status=0,this.cotizacion.clientNames=e.data.clientName==="NV"||e.data.clientName==="NOTA DE VENTA"?"":this.cotizacion.clientNames,this.cotizacion.clientDoc=e.data.noClient==="NV"?"":this.cotizacion.clientDoc,this._cartService.cotizacionProductsCart=this.cotizacion.cart,this.cotizacion.cart.forEach(i=>{this.getProductTariffPrice(i)}))})}addProductToCart(o){this._cartService.addProductToCart(li.mapProductToQuotationDetail(o)),this.autoSaveCotizacionInLocalStorage()}getTotalCartAmount(){return this._cartService.calculateTotalCartAmount()}getCartIGV(){return this._cartService.calculateIGV()}onSelectProduct(o){this.addProductToCart(o),this.selectedProduct=null}saveToLocalStorageCotizacion(){let o=this.cotizacion.noCotizacion;this.loadingBtnSave=!0,this.cotizacion.totalPrice=this.getTotalCartAmount(),this._cotizacionesService.saveCotizacionInLocalStorage(this.cotizacion),this.clearFormAndCart(),this.loadingBtnSave=!1,this.messageService.add({severity:"info",summary:"Cotizaci\xF3n guardada",detail:`Se guard\xF3 la cotizaci\xF3n con el c\xF3digo ${o}.`,key:"toast-generate-cotizacion",life:2500})}sendToDynamics(){this.loadingBtnSend=!0,this.cotizacion.cart=this._cartService.cotizacionProductsCart,this._cotizacionesService.addQuotation({clientDoc:this.cotizacion.clientDoc,clientNames:this.cotizacion.clientNames,cart:this.cotizacion.cart,puntoEntrega:this.cotizacion.puntoEntrega,lugarEnvio:this.cotizacion.lugarEnvio,tipoEntrega:this.cotizacion.tipoEntrega,tipoPrecio:this.cotizacion.tipoPrecio,telefonoCliente:this.cotizacion.telefonoCliente,direCliente:this.cotizacion.direCliente}).pipe(et(o=>{o.success?(this.messageService.add({severity:"success",summary:"Cotizaci\xF3n generada correctamente.",detail:o.data,key:"toast-generate-cotizacion",life:2500}),this._cotizacionesService.deleteCotizacionFromLocalStorage(this.cotizacion.noCotizacion),this.clearFormAndCart(),console.log({resp:o}),this.loadingBtnSend=!1):(this.messageService.add({severity:"danger",summary:"Error al registrar la cotizaci\xF3n",detail:"La cotizaci\xF3n no puedo ser registrada.",key:"toast-generate-cotizacion",life:2500}),console.log({resp:o}),this.loadingBtnSend=!1)}),tt(o=>(this.messageService.add({severity:"error",summary:"Error al registrar la cotizaci\xF3n",detail:"Error: La cotizaci\xF3n no puedo ser registrada.",key:"toast-generate-cotizacion",life:2500}),console.error({err:o}),this.loadingBtnSend=!1,Xe))).subscribe()}updateInDynamics(){this.loadingBtnSend=!0,this.cotizacion.cart=this._cartService.cotizacionProductsCart,this._cotizacionesService.updateQuotation({noCotizacion:this.cotizacion.noCotizacion,clientDoc:this.cotizacion.clientDoc,clientNames:this.cotizacion.clientNames,cart:this.cotizacion.cart,puntoEntrega:this.cotizacion.puntoEntrega,lugarEnvio:this.cotizacion.lugarEnvio,tipoEntrega:this.cotizacion.tipoEntrega,tipoPrecio:this.cotizacion.tipoPrecio,telefonoCliente:this.cotizacion.telefonoCliente,direCliente:this.cotizacion.direCliente}).pipe(et(o=>{o.success?(this.messageService.add({severity:"success",summary:`Se actualizo correctamente la cotizaci\xF3n ${this.cotizacion.noCotizacion}.`,detail:o.data,key:"toast-generate-cotizacion",life:2500}),this._cotizacionesService.deleteCotizacionFromLocalStorage(this.cotizacion.noCotizacion),this.clearFormAndCart(),console.log({resp:o}),this.loadingBtnSend=!1):(this.messageService.add({severity:"danger",summary:"Error al actualizar la cotizaci\xF3n",detail:"La cotizaci\xF3n no puedo ser actualizada.",key:"toast-generate-cotizacion",life:2500}),console.log({resp:o}),this.loadingBtnSend=!1)}),tt(o=>(this.messageService.add({severity:"error",summary:"Error al registrar la cotizaci\xF3n",detail:`Error: ${o.message}`,key:"toast-generate-cotizacion",life:2500}),console.log({error:o}),this.loadingBtnSend=!1,Xe))).subscribe()}isFormInvalid(){let o={saveBtn:!0,sendBtn:!0,deleteBtn:!0};return this.cotizacionCartProducts.length===0?o:this.cotizacion.status===1&&this.cotizacionCartProducts.length>0?(o.saveBtn=!1,o.sendBtn=!1,o.deleteBtn=!1,(this.cotizacion.tipoPrecio.trim().length<1||this.cotizacion.puntoEntrega.trim().length<1||this.cotizacion.lugarEnvio.trim().length<1||this.cotizacion.tipoEntrega.trim().length<1)&&(o.sendBtn=!0),o):(this.cotizacion.tipoPrecio.trim().length<1||this.cotizacion.puntoEntrega.trim().length<1||this.cotizacion.lugarEnvio.trim().length<1||this.cotizacion.tipoEntrega.trim().length<1||this.cotizacion.status===0&&this.cotizacionCartProducts.length>0&&(o.saveBtn=!0,o.sendBtn=!1,o.deleteBtn=!1,(this.cotizacion.tipoPrecio.trim().length<1||this.cotizacion.puntoEntrega.trim().length<1||this.cotizacion.lugarEnvio.trim().length<1||this.cotizacion.tipoEntrega.trim().length<1)&&(o.sendBtn=!0)),o)}validateOnlyNumbers(o){let i=o.target.value.replace(/[^0-9]/g,"");o.target.id==="numDocCli"?this.cotizacion.clientDoc=i:o.target.id==="registerDate"&&(this.cotizacion.telefonoCliente=i),o.target.value=i}removeNoNumericCharacters(){this.cotizacion.telefonoCliente&&(this.cotizacion.telefonoCliente=this.cotizacion.telefonoCliente.replace(/[^0-9]/g,"")),this.cotizacion.clientDoc&&(this.cotizacion.clientDoc=this.cotizacion.clientDoc.replace(/[^0-9]/g,""))}getClientDataMigo(){if(this.cotizacion.clientDoc.length===0){this.cotizacion.clientNames="",this.autoSaveCotizacionInLocalStorage();return}if(this.cotizacion.clientDoc.length!==8&&this.cotizacion.clientDoc.length!==11){this.cotizacion.clientNames="";return}return this._companyService.getCustomerInfo(this.cotizacion.clientDoc).subscribe(o=>{this.cotizacion.clientDoc.length===8?this.cotizacion.clientNames=o.nombres||"":this.cotizacion.clientNames=o.nombres||"",this.autoSaveCotizacionInLocalStorage()})}onFormValuesChange(){this.autoSaveCotizacionInLocalStorage()}clearFormAndCart(){this.cotizacion={noCotizacion:"",clientDoc:"",clientNames:"",cart:[],puntoEntrega:"",lugarEnvio:"",tipoEntrega:"",tipoPrecio:"",telefonoCliente:"",direCliente:"",status:2,totalPrice:0,timestamp:0},this.precioPorMenor=!1,this._cartService.clearCart()}onProductScanned(o){if(!o){this.productNotFoundVisibility=!0,setTimeout(()=>this.productNotFoundVisibility=!1,1500);return}this.messageService.add({severity:"success",summary:"Producto escaneado",detail:`Se agreg\xF3 el producto ${o.description} a la cotizaci\xF3n`,key:"toast-generate-cotizacion",life:1200}),this.addProductToCart(o)}onProductChange(){this.autoSaveCotizacionInLocalStorage()}autoSaveCotizacionInLocalStorage(){this._cartService.cotizacionProductsCart.length>0&&(this.cotizacion.totalPrice=this.getTotalCartAmount(),this._cotizacionesService.saveCotizacionInLocalStorage(this.cotizacion)),this._cartService.cotizacionProductsCart.length===0&&this.cotizacion.noCotizacion&&this.cotizacion.status===1&&this.deleteCotizacion(!1)}deleteCotizacion(o=!0){if(this.cotizacion.status===1){this._cotizacionesService.deleteCotizacionFromLocalStorage(this.cotizacion.noCotizacion),o&&this.messageService.add({severity:"success",summary:"Cotizaci\xF3n eliminada",detail:`La cotizaci\xF3n ${this.cotizacion.noCotizacion} fue eliminada exitosamente.`,key:"toast-generate-cotizacion",life:2500}),this.clearFormAndCart(),this.loadingBtnDelete=!1;return}this.cotizacion.status===0&&this.deleteCotizacionApi(this.cotizacion.noCotizacion)}deleteCotizacionApi(o){this._cotizacionesService.deleteQuotation(o).pipe(et(e=>{e.success?(this.messageService.add({severity:"success",summary:"Cotizaci\xF3n eliminada correctamente.",detail:e.data,key:"toast-generate-cotizacion",life:2500}),this.clearFormAndCart(),console.log({resp:e}),this.loadingBtnDelete=!1):(this.messageService.add({severity:"danger",summary:"Error al eliminar la cotizaci\xF3n",detail:`La cotizaci\xF3n ${o} no puedo ser eliminada.`,key:"toast-generate-cotizacion",life:2500}),console.log({resp:e}),this.loadingBtnDelete=!1)}),tt(e=>(this.messageService.add({severity:"error",summary:"Error al eliminar la cotizaci\xF3n",detail:`Se produjo un error al intentar eliminar la cotizaci\xF3n ${o}.`,key:"toast-generate-cotizacion",life:2500}),console.log({error:e}),this.loadingBtnDelete=!1,Xe))).subscribe()}onPrecioPorMenorChange(){this._cartService.increasePrecioPorMenorInProducts(this.precioPorMenor,this.productsListOriginal),this.precioPorMenor?this.productsList=this._cartService.getProductsIncrementPrice(this.productsListOriginal):this.productsList=this.productsListOriginal,this.autoSaveCotizacionInLocalStorage()}confirmationModal(o){this.confirmationService.confirm({target:o.target,message:`\xBFEst\xE1 seguro que desea eliminar la cotizaci\xF3n ${this.cotizacion.noCotizacion}?`,header:"Confirmaci\xF3n",closable:!0,closeOnEscape:!0,rejectButtonProps:{label:"Cancelar",severity:"secondary",outlined:!0},acceptButtonProps:{label:"Eliminar",severity:"danger"},accept:()=>{this.loadingBtnDelete=!0,this.deleteCotizacion()},reject:()=>{}})}isDeviceMobile(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|Windows Phone/i.test(navigator.userAgent)}toggleAccordion(){this.accordionVisibility=!this.accordionVisibility}pageTitle(){return this.cotizacion.status===this.cotizacionStatus.Devuelto||this.cotizacion.status===this.cotizacionStatus.Pendiente?{title:`Cotizaci\xF3n: ${this.cotizacion.noCotizacion}`,isTagActive:!0,tagLabel:this.cotizacionStatus[this.cotizacion.status],severity:this.cotizacion.status}:{title:"Generar nueva cotizaci\xF3n",isTagActive:!1,tagLabel:"",severity:-1}}static \u0275fac=function(e){return new(e||t)(J(un),J(kt),J(Wt),J(dn),J(Le),J(xt))};static \u0275cmp=O({type:t,selectors:[["cotizador-generar-page"]],viewQuery:function(e,i){if(e&1&&G(Gr,5),e&2){let n;b(n=w())&&(i.hiddenInputBarcode=n.first)}},standalone:!0,features:[oe([Le,xt]),V],decls:92,vars:47,consts:[["headless",""],[1,"fixed","w-full","h-full","top-0","left-0","right-0","bottom-0","z-[60]","bg-black","opacity-40","flex","items-center","justify-center"],[3,"title"],[1,"vh-screen-navbar","flex","flex-col","mx-auto","p-3","lg:px-4"],[1,"flex","flex-col","gap-1"],[1,""],[1,"w-full","flex","justify-between","items-center","text-left","bg-white","rounded-lg","cursor-pointer","px-1","hover:bg-zinc-100",3,"click"],[1,"text-lg","text-gray-900","font-bold"],[1,"pi","pi-chevron-up"],[1,"pi","pi-chevron-down"],["id","accordion-content","role","region",1,"transition-all","duration-200","ease-in-out",3,"ngClass"],[1,"text-gray-600"],[1,"grid","md:grid-cols-3","lg:grid-cols-4","gap-3","mt-2"],["variant","on"],["pInputText","","autocomplete","off","minlength","8","maxlength","11","inputmode","numeric","id","numDocCli","pSize","small",1,"w-full","h-10",3,"ngModelChange","input","ngModel"],["for","numDocCli"],["pInputText","","type","text","id","nomCli","autocomplete","off","pSize","small",1,"w-full","h-10",3,"ngModelChange","disabled","ngModel"],["for","nomCli"],["id","registerDate","pInputText","","autocomplete","off","inputmode","numeric","pSize","small","maxlength","9",1,"w-full","h-10",3,"ngModelChange","input","disabled","ngModel"],["type","text","id","registerDate","autocomplete","off","pInputText","","pSize","small",1,"w-full","h-10",3,"ngModelChange","disabled","ngModel"],["inputId","lugarDespacho","optionLabel","name","styleClass","w-full h-10","optionValue","code","placeholder","Seleccione tipo de precio","autocomplete","off",3,"ngModelChange","ngModel","options"],["inputId","lugarDespacho","optionLabel","name","styleClass","w-full h-10","optionValue","code","placeholder","Seleccione tipo de entrega","autocomplete","off",3,"ngModelChange","ngModel","options"],["inputId","lugarEnvio","optionLabel","name","styleClass","w-full h-10","optionValue","code","placeholder","Seleccione lugar de env\xEDo","autocomplete","off",3,"ngModelChange","ngModel","options"],["for","lugarEnvio"],["inputId","lugarDespacho","optionLabel","name","styleClass","w-full h-10","optionValue","code","placeholder","Seleccione lugar de despacho","autocomplete","off",3,"ngModelChange","ngModel","options"],["for","lugarDespacho"],[1,"my-2"],[1,"w-full","flex","flex-col","md:flex-row","gap-2","lg:gap-4","md:items-center"],[1,"w-full"],[1,"w-full",3,"onSelectedProduct","checkedPrecioMenor","products"],[1,"min-w-fit"],[1,"flex","items-center","text-gray-500","font-semibold"],["inputId","chkPrecioPorMenor",3,"ngModelChange","ngModel","binary"],["for","chkPrecioPorMenor",1,"ml-2","xl:ml-4"],[1,"flex","flex-col","flex-grow","overflow-hidden"],[1,"font-semibold","text-lg"],[3,"onProductChange","detailCotizacionList"],[1,"mt-1","bg-white"],[1,"mb-2"],[1,"text-end","text-lg","flex","justify-between","my-2"],[1,"font-bold"],[1,"mb-4"],[1,"grid","grid-cols-2","md:grid-cols-4","gap-2"],["icon","pi pi-barcode","label","Escanear","styleClass","w-full h-full"],[3,"products"],["icon","pi pi-save","label","Guardar","styleClass","w-full h-full","severity","info",3,"onClick","disabled","loading"],["icon","pi pi-trash","label","Eliminar","styleClass","w-full h-full","severity","danger",3,"onClick","disabled","loading"],["icon","pi pi-send","label","Lanzar","styleClass","w-full h-full","severity","success",3,"disabled","loading"],["icon","pi pi-send","label","Editar en Dynamic","styleClass","w-full text-[14px] h-full p-0","severity","success",3,"disabled","loading"],["position","top-center","key","toast-generate-cotizacion"],["closable","true","styleClass"," border-red-500",3,"visibleChange","modal","visible"],["strokeWidth","8","fill","transparent","animationDuration",".5s"],["icon","pi pi-barcode","label","Escanear","styleClass","w-full h-full",3,"onClick"],[3,"onProductScanned","products"],["icon","pi pi-send","label","Lanzar","styleClass","w-full h-full","severity","success",3,"onClick","disabled","loading"],["icon","pi pi-send","label","Editar en Dynamic","styleClass","w-full text-[14px] h-full p-0","severity","success",3,"onClick","disabled","loading"],[3,"onScannedProduct","onCloseScannerModal","products"],[1,"text-center"],[1,"bg-red-600","rounded-t-lg","p-2"],[1,"pi","pi-exclamation-triangle","text-4xl","text-white"],[1,"p-4"],[1,"font-bold","text-xl","mb-3","text-red-700"],[1,"text-black"]],template:function(e,i){if(e&1){let n=S();h(0,Zr,2,3,"div",1),y(1,"shared-navbar",2),p(2,"div",3)(3,"div",4)(4,"div",5)(5,"div",6),g("click",function(){return u(n),m(i.toggleAccordion())}),p(6,"span",7),v(7,"Datos del Cliente"),d(),h(8,Jr,1,0,"span",8)(9,Xr,1,0,"span",9),d(),p(10,"div",10)(11,"div",11)(12,"div",12)(13,"div",5)(14,"p-floatlabel",13)(15,"input",14),R("ngModelChange",function(r){return u(n),$(i.cotizacion.clientDoc,r)||(i.cotizacion.clientDoc=r),m(r)}),g("input",function(r){return u(n),m(i.validateOnlyNumbers(r))})("ngModelChange",function(){return u(n),m(i.getClientDataMigo())}),d(),p(16,"label",15),v(17,"DNI/RUC"),d()()(),p(18,"div",5)(19,"p-floatlabel",13)(20,"input",16),R("ngModelChange",function(r){return u(n),$(i.cotizacion.clientNames,r)||(i.cotizacion.clientNames=r),m(r)}),g("ngModelChange",function(){return u(n),m(i.onFormValuesChange())}),d(),p(21,"label",17),v(22,"Nombre"),d()()(),p(23,"div",5)(24,"p-floatlabel",13)(25,"input",18),R("ngModelChange",function(r){return u(n),$(i.cotizacion.telefonoCliente,r)||(i.cotizacion.telefonoCliente=r),m(r)}),g("input",function(r){return u(n),m(i.validateOnlyNumbers(r))})("ngModelChange",function(){return u(n),m(i.onFormValuesChange())}),d(),p(26,"label",17),v(27,"Tel\xE9fono"),d()()(),p(28,"div",5)(29,"p-floatlabel",13)(30,"input",19),R("ngModelChange",function(r){return u(n),$(i.cotizacion.direCliente,r)||(i.cotizacion.direCliente=r),m(r)}),g("ngModelChange",function(){return u(n),m(i.onFormValuesChange())}),d(),p(31,"label",17),v(32,"Venta a direcci\xF3n"),d()()(),p(33,"div",5)(34,"p-floatlabel",13)(35,"p-select",20),R("ngModelChange",function(r){return u(n),$(i.cotizacion.tipoPrecio,r)||(i.cotizacion.tipoPrecio=r),m(r)}),g("ngModelChange",function(){return u(n),m(i.onFormValuesChange())}),d(),p(36,"label",17),v(37,"Tipo precio"),d()()(),p(38,"div",5)(39,"p-floatlabel",13)(40,"p-select",21),R("ngModelChange",function(r){return u(n),$(i.cotizacion.tipoEntrega,r)||(i.cotizacion.tipoEntrega=r),m(r)}),g("ngModelChange",function(){return u(n),m(i.onFormValuesChange())}),d(),p(41,"label",17),v(42,"Tipo de entrega"),d()()(),p(43,"div",5)(44,"p-floatlabel",13)(45,"p-select",22),R("ngModelChange",function(r){return u(n),$(i.cotizacion.lugarEnvio,r)||(i.cotizacion.lugarEnvio=r),m(r)}),g("ngModelChange",function(){return u(n),m(i.onFormValuesChange())}),d(),p(46,"label",23),v(47,"Lugar de env\xEDo"),d()()(),p(48,"div",5)(49,"p-floatlabel",13)(50,"p-select",24),R("ngModelChange",function(r){return u(n),$(i.cotizacion.puntoEntrega,r)||(i.cotizacion.puntoEntrega=r),m(r)}),g("ngModelChange",function(){return u(n),m(i.onFormValuesChange())}),d(),p(51,"label",25),v(52,"Lugar de despacho"),d()()()()()()(),y(53,"hr",26),p(54,"div",27)(55,"div",28)(56,"shared-search-bar",29),g("onSelectedProduct",function(r){return u(n),m(i.onSelectProduct(r))}),d()(),p(57,"div",30)(58,"div",31)(59,"p-checkbox",32),R("ngModelChange",function(r){return u(n),$(i.precioPorMenor,r)||(i.precioPorMenor=r),m(r)}),g("ngModelChange",function(){return u(n),m(i.onPrecioPorMenorChange())}),d(),p(60,"label",33),v(61,"Precio por menor"),d()()()()(),y(62,"hr",26),p(63,"div",34)(64,"p",35),v(65,"Productos agregados"),d(),p(66,"div",5)(67,"detalle-cotizacion-table",36),g("onProductChange",function(){return u(n),m(i.onProductChange())}),d()()(),p(68,"div",37),y(69,"hr",38),p(70,"div",39)(71,"p"),v(72),it(73,"i18nPlural"),d(),p(74,"p",40),v(75),it(76,"currency"),d()(),y(77,"hr",41),p(78,"div",42),h(79,el,1,0,"p-button",43)(80,tl,1,1,"scanner-usb",44),p(81,"p-button",45),g("onClick",function(){return u(n),m(i.saveToLocalStorageCotizacion())}),d(),p(82,"p-button",46),g("onClick",function(r){return u(n),m(i.confirmationModal(r))}),d(),p(83,"div",28),h(84,il,1,2,"p-button",47)(85,nl,1,2,"p-button",48),d()()()(),y(86,"p-toast",49)(87,"p-confirmdialog"),h(88,ol,1,1,"scanner-code",44),p(89,"p-dialog",50),R("visibleChange",function(r){return u(n),$(i.productNotFoundVisibility,r)||(i.productNotFoundVisibility=r),m(r)}),h(90,al,8,0,"ng-template",null,0,ee),d()}e&2&&(Y(i.loadingFetchData?0:-1),c(),l("title",i.pageTitle()),c(7),Y(i.accordionVisibility?8:9),c(2),l("ngClass",A(44,Wr,!i.accordionVisibility)),c(5),B("ngModel",i.cotizacion.clientDoc),c(5),l("disabled",!1),B("ngModel",i.cotizacion.clientNames),c(5),l("disabled",!1),B("ngModel",i.cotizacion.telefonoCliente),c(5),l("disabled",!1),B("ngModel",i.cotizacion.direCliente),c(5),B("ngModel",i.cotizacion.tipoPrecio),l("options",i.priceType),c(5),B("ngModel",i.cotizacion.tipoEntrega),l("options",i.typeOfDelivery),c(5),B("ngModel",i.cotizacion.lugarEnvio),l("options",i.shippingLocation),c(5),B("ngModel",i.cotizacion.puntoEntrega),l("options",i.placeOfDispatch),c(6),l("checkedPrecioMenor",i.precioPorMenor)("products",i.productsList),c(3),B("ngModel",i.precioPorMenor),l("binary",!0),c(8),l("detailCotizacionList",i.cotizacionCartProducts),c(5),Ii("",i.cotizacionCartProducts.length," ",nt(73,38,i.cotizacionCartProducts.length,i.productsPluralMap),""),c(3),Ce("Total ",nt(76,41,i.getTotalCartAmount(),"S/ "),""),c(4),Y(i.isDeviceMobile()?79:80),c(2),l("disabled",i.isFormInvalid().saveBtn)("loading",i.loadingBtnSave),c(),l("disabled",i.isFormInvalid().deleteBtn)("loading",i.loadingBtnDelete),c(2),Y(i.cotizacion.status!==i.cotizacionStatus.Devuelto?84:85),c(4),Y(i.scannerVisibility?88:-1),c(),ie(ae(46,Kr)),l("modal",!0),B("visible",i.productNotFoundVisibility))},dependencies:[k,te,bt,Ei,we,wt,Fe,Li,Ni,ze,Ki,Ke,At,Ot,ji,Pt,Mn,Nt,Rt,Ji,Zi,pn,Wi,Ft,cn,Vt,Qt,Mt,rn,Fn,Ut],styles:[".vh-screen-navbar[_ngcontent-%COMP%]{height:calc(100dvh - 46px)!important}"]})};export{zn as GenerarPageComponent};
