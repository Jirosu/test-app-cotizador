import{A as j,E as F,G as N,H as B,J as D,b as w,d as _,e as E,f as L,g as I,h as P,l as k,y as T}from"./chunk-FUJANWPD.js";import{g as C,na as d}from"./chunk-HMGWBARJ.js";import"./chunk-4YRY4IP2.js";import{Aa as l,Ab as M,Ba as m,Sa as b,Y as h,ab as e,bb as t,cb as a,hb as x,i as v,sb as o,wb as u,x as y,xb as g,yb as c,zb as S}from"./chunk-AVBU36JX.js";import"./chunk-4CLCTAJ7.js";var O=class p{constructor(i,s,r){this.messageServ=i;this._authServ=s;this._router=r}user={username:"",password:""};loginLoading=!1;validateForm(){return this.user.username===""||this.user.password===""?(this.messageServ.add({severity:"error",summary:"Campos vac\xEDos.",detail:"Por favor, ingrese sus credenciales.",key:"toast-login",life:2500}),!1):!0}login(){this.validateForm()&&(this.loginLoading=!0,this._authServ.login(this.user).pipe(y(i=>(i.status===401?this.messageServ.add({severity:"error",summary:"Credenciales incorrectas.",detail:"El usuario y/o la contrase\xF1a son incorrectos.",key:"toast-login",life:2500}):this.messageServ.add({severity:"error",summary:"Error al iniciar sesi\xF3n.",detail:`${i.error.message}`,key:"toast-login",life:2500}),console.error(i),this.loginLoading=!1,v))).subscribe(i=>{i.status===200&&(this.messageServ.add({severity:"success",summary:"Inicio de sesi\xF3n exitoso.",detail:`${i.body}`,key:"toast-login",life:5e3}),setTimeout(()=>{this._router.navigate(["/cotizador"]),this.loginLoading=!1},1500))}))}static \u0275fac=function(s){return new(s||p)(m(d),m(D),m(C))};static \u0275cmp=h({type:p,selectors:[["app-login"]],standalone:!0,features:[S([d]),M],decls:26,vars:3,consts:[[1,"contenedor","flex","flex-col","items-center","justify-center","w-screen","h-screen","gap-1"],[1,"flex","flex-col","justify-center","max-w-[22rem]"],[1,"flex","justify-center","w-full"],[1,"w-7/12"],[1,"w-full",3,"src"],[3,"submit"],[1,"loginBox","flex","flex-col","justify-center","items-center","rounded-border","p-8","gap-4"],[1,"font-bold","m-0","text-3xl"],[1,"flex","flex-col","justify-center","items-center","gap-2"],[1,"h-1","w-full","m-0"],[1,"text-sm","text-center"],[1,"flex","flex-col","gap-2","w-full","px-4"],[1,"flex","flex-col"],["for","username"],["pInputText","","type","text","id","username","name","username","aria-describedby","username-help",1,"focus:border","focus:border-sky-500",3,"ngModelChange","ngModel"],["for","password"],["pInputText","","type","password","id","password","name","password","aria-describedby","password-help",1,"focus:border","focus:border-sky-500",3,"ngModelChange","ngModel"],["pButton","","type","submit",1,"boton","border-0","rounded-3xl","text-surface-0","text-base","font-semibold","uppercase","py-2","px-6","text-center","align-middle",3,"loading"],["position","bottom-center","key","toast-login"]],template:function(s,r){s&1&&(e(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),a(4,"img",4),t()(),e(5,"form",5),x("submit",function(){return r.login()}),e(6,"div",6)(7,"h1",7),o(8,"Inicia Sesi\xF3n!"),t(),e(9,"div",8),a(10,"hr",9),e(11,"span",10),o(12,"Ingresa tus credenciales aqu\xED abajo e ingresa al sistema!"),t(),e(13,"div",11)(14,"div",12)(15,"label",13),o(16,"Usuario"),t(),e(17,"input",14),c("ngModelChange",function(n){return g(r.user.username,n)||(r.user.username=n),n}),t()(),e(18,"div",12)(19,"label",15),o(20,"Contrase\xF1a"),t(),e(21,"input",16),c("ngModelChange",function(n){return g(r.user.password,n)||(r.user.password=n),n}),t()()(),a(22,"hr",9),t(),e(23,"button",17),o(24," Ingresar "),t()()()(),a(25,"p-toast",18),t()),s&2&&(l(17),u("ngModel",r.user.username),l(4),u("ngModel",r.user.password),l(2),b("loading",r.loginLoading))},dependencies:[k,P,w,_,E,I,L,j,T,F,B,N],styles:[".contenedor[_ngcontent-%COMP%]{background:linear-gradient(to right,#33b5ff,#004166)}.loginBox[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif!important;background-color:#fff}hr[_ngcontent-%COMP%]{margin:10px 0;width:21rem;height:2px;border:none;background:linear-gradient(to right,#33b5ff,#004166)}.boton[_ngcontent-%COMP%]{background:linear-gradient(to right,#2ba4e9,#004166);transition:transform 80ms ease-in}.boton[_ngcontent-%COMP%]:focus{outline:none}.boton[_ngcontent-%COMP%]:active{transform:scale(.95)}"]})};export{O as LoginComponent};
